{"version":3,"file":"audioplaylist.js","mappings":"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","sources":["webpack://dzsap--compile-files/../source/audioplayer/configs/_constants.js","webpack://dzsap--compile-files/../source/audioplayer/js_common/_dzs_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_keyboard.js","webpack://dzsap--compile-files/webpack/bootstrap","webpack://dzsap--compile-files/webpack/runtime/define property getters","webpack://dzsap--compile-files/webpack/runtime/hasOwnProperty shorthand","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_svgs.js","webpack://dzsap--compile-files/../source/audioplayer/configs/_settingsPlaylist.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/components/_nav.js","webpack://dzsap--compile-files/../source/audioplayer/audioplaylist.sourcepack.js"],"sourcesContent":["export const DEBUG_STYLE_PLAY_FUNCTIONS = 'background-color: #daffda; color: #222222;';\nexport const WAVESURFER_MAX_TIMEOUT = 20000;\n\nexport const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1': 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2': 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3': 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR': 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP: 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT,\n  DEBUG_STYLE_PLAY_FUNCTIONS,\n  URL_JQUERY: 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n\nexport const DZSAP_PLAYER_CLASS_FOOTER_PLAYER = 'dzsap_footer';\nexport const DZSAP_PLAYER_CLASS_LOADED = 'dzsap-loaded';\nexport const DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW = 'audioplayer-loaded';\nexport const DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom';\nexport const DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom-placeholder';\nexport const DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED = 'fake';\nexport const DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS = 'last';\nexport const DZSAP_CLASS_NAME_AJAX_LIKE = 'btn-like';\n\nexport const DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS = '#dzsap-main-settings';\nexport const DZSAP_SCRIPT_SELECTOR_KEYBOARD = '#dzsap-keyboard-controls';\nexport const DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT = 500;\nexport const DZSAP_AJAX_ACTION_LIKE = 'dzsap_submit_like';\nexport const DZSAP_VIEW_SONG_CHANGER_CLASS = 'audioplayer-song-changer';\n","import {ConstantsDzsAp} from \"../configs/_constants\";\n\nexport const decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n\n      return null;\n    }\n  }\n\n  return fout;\n}\nexport async function dzsap_jQueryInit(callback, reject) {\n\n  return new Promise((resolve, reject) => {\n\n    if (window.jQuery) {\n      resolve('jQuery loaded');\n    } else {\n      const script = document.createElement('script');\n      script.onload = function () {\n        if (window.jQuery) {\n          resolve('jQuery loaded');\n        } else {\n          reject('error loading');\n        }\n      };\n      script.src = ConstantsDzsAp.URL_JQUERY;\n\n      document.head.appendChild(script);\n    }\n\n    setTimeout(() => {\n      reject('error loading');\n    }, 15000);\n  })\n}\n/**\n *\n * @param {string} arg\n * @return {string}\n */\nexport function string_curateClassName(arg){\n\n  arg = arg.replace('feed-dzsap', '');\n  arg = arg.replace('feed-dzsap--extra-html', '');\n  return arg;\n}\n\n\nexport function simpleStringify (object){\n  if (object && typeof object === 'object') {\n    object = copyWithoutCircularReferences([object], object);\n  }\n  return JSON.stringify(object);\n\n  function copyWithoutCircularReferences(references, object) {\n    const cleanObject = {};\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      if (value && typeof value === 'object') {\n        if (references.indexOf(value) < 0) {\n          references.push(value);\n          cleanObject[key] = copyWithoutCircularReferences(references, value);\n          references.pop();\n        } else {\n          cleanObject[key] = '###_Circular_###';\n        }\n      } else if (typeof value !== 'function') {\n        cleanObject[key] = value;\n      }\n    });\n    return cleanObject;\n  }\n}\n\nexport const loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n\nexport const getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  const result = string_addTrailingSlash(baseUrl_arr.join('/'));\n  window[baseUrlVar] = result+'/';\n  return result;\n}\n\nfunction string_addTrailingSlash(url){\n  var lastChar = url.substr(-1); // Selects the last character\n  if (lastChar != '/') {         // If the last character is not a slash\n    url = url + '/';            // Append a slash to it.\n  }\n  return url;\n}\nexport const sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n\nexport const setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexport const isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexport const isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexport function getRelativeX (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","import {isValid} from \"../js_common/_dzs_helpers\";\nimport {dzsap_keyboardSetup} from \"./player/_player_keyboard\";\nimport {\n  DZSAP_PLAYER_CLASS_FOOTER_PLAYER,\n  DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM,\n  DZSAP_VIEW_SONG_CHANGER_CLASS\n} from \"../configs/_constants\";\n\n\nexport function formatTime(arg) {\n\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n\n    if (String(purl).indexOf(key + '=') > -1) {\n\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n\n        var splitter = splitterS.split('=');\n\n\n        return splitter[1];\n\n      }\n\n    }\n\n  } else {\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n\n  return is_ios() || is_android();\n}\n\nexport function is_ios() {\n\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n\n  var oCanvas = document.createElement(\"canvas\");\n  return !!oCanvas.getContext(\"2d\");\n\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  var ua = navigator.userAgent.toLowerCase();\n\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n\n\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  let structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param hex\n * @param {number|null} targetAlpha 0-1\n * @returns {string}\n */\nexport function hexToRgb(hex, targetAlpha = null) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (targetAlpha !== null) {\n      alpha = targetAlpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n\n  Math.easeIn = function (t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  };\n\n\n  /**\n   *\n   * @param {string} argfind\n   * @param {string} arg\n   * @returns {string}\n   */\n  const checkIfHasClass = (argfind, arg) => {\n\n    if (!argfind) {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (auxarr && auxarr[1]) {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    return argfind;\n  }\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this)\n\n\n    argfind = checkIfHasClass(argfind, arg);\n\n\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    }\n    return false;\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this)\n\n    argfind = checkIfHasClass(argfind, arg);\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    }\n    return false;\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window['dzsap_functions'] = {};\n  window['dzsap_functions']['send_total_time'] = function (argtime, argcthis) {\n\n\n    if (argtime && argtime !== Infinity) {\n      const data = {\n        action: 'dzsap_send_total_time_for_track',\n        id_track: argcthis.attr('data-playerid'),\n        postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    const locationHref = window.location.href;\n\n\n    const auxa = locationHref.split('?');\n\n    let cid = '';\n    let cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    if (argthis) {\n\n      const $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n\n\n  }\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function assignPcmData(selfClass) {\n\n  selfClass.pcmSource = string_jsonConvertToArray(selfClass.cthis.attr('data-pcm'));\n  if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n    var pcmSourceLen = selfClass.pcmSource.length;\n    var desiredSize = 256;\n\n    for (var i = 0; i < pcmSourceLen; i++) {\n      if (i > desiredSize) {\n        continue;\n      }\n      selfClass.pcmSource[i] = selfClass.pcmSource[i * pcmSourceLen / desiredSize] * desiredSize;\n    }\n    selfClass.pcmSource.splice(desiredSize, pcmSourceLen - desiredSize); // removes 3rd element of array\n  }\n}\n\nexport function string_jsonConvertToArray(ar_str) {\n  let waves = [];\n  if (typeof (ar_str) == 'object') {\n    waves = ar_str;\n  } else {\n    try {\n      waves = JSON.parse(ar_str);\n    } catch (err) {\n\n    }\n  }\n\n  return waves;\n}\n\n/**\n * should be called only once on init\n */\nexport function dzsap_singleton_ready_calls() {\n\n  window.dzsap_singleton_ready_calls_is_called = true;\n\n\n  let $feed_dzsapMainSettings = null;\n  const $feed_dzsapMainSettingsAll = document.querySelectorAll('.dzsap-main-settings');\n  if ($feed_dzsapMainSettingsAll.length) {\n    $feed_dzsapMainSettings = $feed_dzsapMainSettingsAll[$feed_dzsapMainSettingsAll.length - 1];\n  }\n  if ($feed_dzsapMainSettings) {\n    window.dzsap_settings = JSON.parse($feed_dzsapMainSettings.innerHTML);\n    window.ajaxurl = window.dzsap_settings.ajax_url;\n    window.dzsap_curr_user = window.dzsap_settings.dzsap_curr_user;\n  }\n\n\n  jQuery('body').append('<style class=\"dzsap--style\"></style>');\n\n\n  window.dzsap__style = jQuery('.dzsap--style');\n\n\n  jQuery('audio.zoomsounds-from-audio').each(function () {\n    var _t = jQuery(this);\n    _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n    _t.remove();\n  })\n\n  jQuery(document).on('focus.dzsap', 'input', function () {\n    window.dzsap_currplayer_focused = null;\n  })\n\n  registerTextWidth(jQuery);\n\n  dzsap_keyboardSetup();\n}\n\nexport function jQueryAuxBindings($) {\n\n\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    const $t = $(this);\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass(DZSAP_VIEW_SONG_CHANGER_CLASS)) {\n      const _c = $($t.attr('data-fakeplayer')).eq(0);\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed ' + DZSAP_VIEW_SONG_CHANGER_CLASS\n        });\n      }\n\n      return false;\n    }\n\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.' + DZSAP_VIEW_SONG_CHANGER_CLASS, handleClick_onGlobalZoomSoundsButton)\n\n\n}\n\n\n/**\n * for .zoomsounds-wrapper-bg-center\n * @param selfClass\n */\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n\n  new Promise((resolve, reject) => {\n\n    let checkInterval = 0;\n\n    function checkIfVarExists() {\n      if (verifyVar) {\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n    setTimeout(() => {\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n  })\n}\n\n\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n\n\n  if (o.scrubbar_type === 'wave') {\n    if (o.is_inited_from_playlist) {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (o.scrubbar_type_wave__has_reveal_animation === 'on') {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (selfClass.isPcmRequiredToGenerate) {\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n\n    if (typeof selfClass.uniqueId === 'string') {\n      selfClass.uniqueId = selfClass.uniqueId.replace('ap', '');\n    }\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n\n    if (selfClass.uniqueId === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\n\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n\n    if (!cthis.attr('data-streamtype')) {\n\n      selfClass.audioTypeSelfHosted_streamType = 'shoutcast';\n    }\n\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\n\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = sanitizeToIntFromPointTime(get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\nexport function sanitizeToIntFromPointTime(arg) {\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\n\n/**\n * called in player init()\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  let $conTest = selfClass.cthis.parent();\n\n\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n\n  }\n  $conTest = selfClass.cthis.parent().parent();\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n  }\n}\n\n\n/**\n *\n * todo: maybe move\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n\n\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  let i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_syncPlayers_gotoItem(selfClass, targetIncrement) {\n  if (window.dzsap_settings.syncPlayers_autoplayEnabled) {\n\n    for (let keySyncPlayer in window.dzsap_syncList_players) {\n      let $playerInSyncList = selfClass.cthis;\n\n      if (selfClass._sourcePlayer) {\n        $playerInSyncList = selfClass._sourcePlayer;\n      }\n\n\n      if (window.dzsap_syncList_players[keySyncPlayer].get(0) === $playerInSyncList.get(0)) {\n\n        keySyncPlayer = parseInt(keySyncPlayer, 10);\n        let targetIndex = window.dzsap_syncList_index + targetIncrement;\n        if (targetIndex >= 0 && targetIndex < window.dzsap_syncList_players.length) {\n          const $currentSyncPlayer_ = window.dzsap_syncList_players[targetIndex].get(0);\n\n\n          if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n            setTimeout(function () {\n              $currentSyncPlayer_.api_play_media({\n                'called_from': 'api_sync_players_prev'\n              });\n            }, 200);\n\n          }\n        }\n      }\n    }\n  }\n\n}\n\nexport function player_syncPlayers_buildList() {\n\n  if (!window.syncPlayers_isDzsapListBuilt) {\n\n    window.dzsap_syncList_players = [];\n\n    window.syncPlayers_isDzsapListBuilt = true;\n\n    jQuery('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n      const _t23 = jQuery(this);\n\n\n      if (_t23.hasClass(DZSAP_PLAYER_CLASS_FOOTER_PLAYER)) {\n        return;\n      }\n\n\n      if (_t23.attr('data-do-not-include-in-list') !== 'on') {\n        window.dzsap_syncList_players.push(_t23);\n      }\n    })\n\n\n    clearTimeout(window.syncPlayers_buildTimeout);\n\n    window.syncPlayers_buildTimeout = setTimeout(function () {\n      window.syncPlayers_isDzsapListBuilt = false;\n    }, 500);\n\n  }\n\n}\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var isSetFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n\n\n  var $elThis = $es(elThis);\n\n  const isArgOptionsDefinedViaJs = Boolean(argOptions && typeof argOptions === 'object' && Object.keys(argOptions).length);\n\n\n  if (isArgOptionsDefinedViaJs) {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        isSetFromJson = true;\n      } catch (err) {\n\n      }\n    }\n    if (!isSetFromJson) {\n      if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n        let aux = $elThis.attr(searchedAttr);\n        aux = 'var aux_opts = ' + aux;\n        eval(aux);\n        tempOptions = Object.assign({}, argOptions);\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (let it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n","import {DZSAP_SCRIPT_SELECTOR_KEYBOARD} from \"../../configs/_constants\";\n\nexport const dzsap_generate_keyboard_controls = function () {\n  let keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  const $keyboardControlsInfo = jQuery(DZSAP_SCRIPT_SELECTOR_KEYBOARD);\n  if ($keyboardControlsInfo.length) {\n    window.dzsap_keyboard_controls = JSON.parse($keyboardControlsInfo.html());\n  }\n\n  if (window.dzsap_keyboard_controls) {\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n\n  return keyboard_controls;\n};\n\n\nexport function handle_keypresses(e) {\n\n  if (window.dzsap_isTextFieldFocused) {\n    return;\n  }\n\n\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  const keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if (!$(dzsap_currplayer_focused).hasClass('comments-writer-active')) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      dzsap_currplayer_focused.api_sync_players_goto_next();\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      dzsap_currplayer_focused.api_sync_players_goto_prev();\n    }\n\n\n  }\n}\n\n\n/**\n * called in singleton\n */\nexport const dzsap_keyboardSetup = () => {\n\n  let $ = jQuery;\n\n  window.dzsap_isTextFieldFocused = false;\n\n  $(document).off('keydown.dzsapkeyup');\n  $(document).on('keydown.dzsapkeyup', handle_keypresses);\n\n\n  $(document).on('focus blur', 'textarea,input', function (e) {\n\n    if (e.type == 'focusin' || e.type == 'focus') {\n\n      window.dzsap_isTextFieldFocused = true;\n    }\n    if (e.type == 'focusout' || e.type == 'blur') {\n\n      window.dzsap_isTextFieldFocused = false;\n    }\n  });\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n    const _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        let $audioGallery = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          $audioGallery = $(_t.attr('data-target'));\n        }\n        if ($audioGallery.get(0) && $audioGallery.get(0).api_filter) {\n          $audioGallery.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\n\n\nexport const playbtn_svg = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nexport const pausebtn_svg = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>';\n\n\n\n\n\nexport const svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\n\n\nexport const svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nexport const svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\n\n\n\n\n\nexport const svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nexport const svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\n\n\n","export const default_opts = {\n  design_skin: 'skin-default', // -- \"skin-default\" or \"skin-aura\" or \"skin-wave\"\n  cueFirstMedia: 'on', // -- preload the mp3 to the first item\n  autoplay: 'off', // -- autoplay the first item\n  autoplayNext: 'on', // -- autoplay items after the first item\n  settings_enable_linking: 'off',  // -- use html5 history to remember last position in the gallery\n\n  design_menu_position: 'bottom',\n  navigation_method: 'mouseover', // -- 'mouseover', 'full', 'legacyscroll' or 'dzsscroll'\n  design_menu_state: 'open',  // -- options are \"open\" or \"closed\", this sets the initial state of the menu, even if the initial state is \"closed\", it can still be opened by a button if you set design_menu_show_player_state_button to \"on\"\n  design_menu_show_player_state_button: 'off',  // -- show a button that allows to hide or show the menu\n  design_menu_width: 'default',\n  design_menu_height: 'default',\n  design_menu_space: 'default',\n  settings_php_handler: '', // -- link to publisher.php ( auto assigned in wordpress to admin-ajax.php )\n  design_menuitem_width: 'default',\n  design_menuitem_height: 'default',\n  design_menuitem_space: 'default',\n\n  disable_menu_navigation: 'off',\n  loop_playlist: 'on',\n  menu_facebook_share: 'auto' // -- mousemove or scroller or all\n  , enable_easing: 'off' // -- enable easing for menu animation\n  , settings_ap: 'default' // -- string or array\n  , playlistTransition: 'fade' // -- fade or direct\n  , embedded: 'off',\n  mode_showall_layout: 'one-per-row' // or \"two-per-row\" or \"three-per-row\"\n  , settings_mode: 'mode-normal' // -- mode-normal or mode-showall\n  , settings_mode_showall_show_number: 'on' // mode-normal or mode-showall\n  , mode_normal_video_mode: 'auto' // -- auto or \"one\" ( only one audio player )\n\n};\n\n","import {is_ios, is_android} from \"../_dzsap_helpers\";\n\n\nimport {sanitizeToCssPx}  from \"../../js_common/_dzs_helpers\";\n\nexport const ZoomSoundsNav = class {\n\n  constructor(parentGallery) {\n    this.parentGallery = parentGallery;\n\n    this.structZoomsoundsNav = '';\n    this._navMain = null;\n    this._navClipper = null;\n    this.cgallery = null;\n\n    this.size_navMainClipSize = null;\n    this.size_navMainTotalSize = null;\n    this.finish_viy = 0;\n\n    this.init();\n\n\n  }\n\n  init() {\n\n    var selfGallery = this.parentGallery;\n\n    this.structZoomsoundsNav = '<div class=\"nav-main zoomsounds-nav ' + selfGallery.initOptions.design_skin + ' navigation-method-' + selfGallery.initOptions.navigation_method + '\"><div class=\"nav-clipper\"></div></div>';\n\n\n    // -- let us do some sanitize\n    if (this.parentGallery.initOptions.navigation_method === 'full') {\n      this.parentGallery.initOptions.design_menu_height = 'auto';\n    }\n\n  }\n\n  init_ready() {\n\n\n\n    const self = this;\n    var selfGallery = this.parentGallery;\n\n    if (selfGallery.initOptions.disable_menu_navigation == 'on') {\n      this._navMain.hide();\n    }\n\n    if(!isNaN(Number(selfGallery.initOptions.design_menu_height))){\n      this._navMain.css({\n        'height': sanitizeToCssPx(selfGallery.initOptions.design_menu_height)\n      })\n    }\n\n    if (is_ios() || is_android()) {\n      this._navMain.css({\n        'overflow': 'auto'\n      })\n    }\n\n\n    if (selfGallery.initOptions.design_menu_state == 'closed') {\n      this._navMain.css({\n        'height': 0\n      })\n      this.cgallery.removeClass('menu-opened');\n      this.cgallery.addClass('menu-closed');\n    } else {\n      this.cgallery.addClass('menu-opened');\n      this.cgallery.removeClass('menu-closed');\n    }\n\n\n    this._navClipper.on('click', '.menu-item', click_menuitem);\n\n\n    function click_menuitem(e) {\n      var _t = jQuery(this);\n\n      if (e.type == 'click') {\n        if (_t.hasClass('menu-item')) {\n          var ind = _t.parent().children().index(_t);\n\n          selfGallery.goto_item(ind);\n        }\n      }\n\n    }\n\n\n  }\n\n\n  get_structZoomsoundsNav() {\n    return this.structZoomsoundsNav;\n  }\n\n  set_elements(_navMain, _navClipper, cgallery) {\n    this._navMain = _navMain;\n    this._navClipper = _navClipper;\n    this.cgallery = cgallery;\n  }\n\n  calculateDims() {\n\n    this.size_navMainClipSize = this._navMain.height();\n    this.size_navMainTotalSize = this._navClipper.outerHeight();\n\n    const self = this;\n\n    if (this.parentGallery.initOptions.navigation_method === 'mouseover') {\n\n\n\n      if (this.size_navMainTotalSize > this.size_navMainClipSize && this.size_navMainClipSize > 0) {\n        this._navMain.off('mousemove', navMain_mousemove);\n        this._navMain.on('mousemove', navMain_mousemove);\n      } else {\n        this._navMain.off('mousemove', navMain_mousemove);\n      }\n    }\n\n    function navMain_mousemove(e) {\n\n      var aux_error = 20; //==erroring for the menu scroll\n      var $ = jQuery;\n      var _t = $(this);\n      var mx = e.pageX - _t.offset().left;\n      var my = e.pageY - _t.offset().top;\n\n\n      if (self.size_navMainTotalSize <= self.size_navMainClipSize) {\n        return;\n      }\n\n      self.size_navMainClipSize = self._navMain.outerHeight();\n\n\n\n      var vix = 0;\n      var viy = 0;\n\n      viy = (my / self.size_navMainClipSize) * -(self.size_navMainTotalSize - self.size_navMainClipSize + 10 + aux_error * 2) + aux_error;\n\n      if (viy > 0) {\n        viy = 0;\n      }\n      if (viy < -(self.size_navMainTotalSize - self.size_navMainClipSize + 10)) {\n        viy = -(self.size_navMainTotalSize - self.size_navMainClipSize + 10);\n      }\n\n      self.finish_viy = viy;\n\n\n\n\n      if (is_ios() == false && is_android() == false) {\n        if (self.parentGallery.initOptions.enable_easing != 'on') {\n\n          self._navClipper.css({\n            'transform': 'translateY(' + self.finish_viy + 'px)'\n          });\n        }\n      }\n\n\n    }\n\n  }\n\n\n\n  toggle_menu_state() {\n\n    const self = this;\n\n    if (this._navMain.height() == 0) {\n      this._navMain.css({\n        'height': this.parentGallery.initOptions.design_menu_height\n      })\n\n\n      this.cgallery.removeClass('menu-closed');\n      this.cgallery.addClass('menu-opened');\n    } else {\n\n      this._navMain.css({\n        'height': 0\n      })\n      this.cgallery.removeClass('menu-opened');\n      this.cgallery.addClass('menu-closed');\n    }\n    setTimeout(function () {\n      self.parentGallery.handleResize();\n    }, 400); // -- animation delay\n\n  }\n\n  parseTrackData(track_data) {\n    var foundnr = 0;\n    var self = this;\n    this._navMain.find('.menu-item-views').each(function () {\n      var _t2 = $(this);\n\n      var aux_html = _t2.html();\n\n      var reg_findid = /{{views_(.*?)}}/g;\n\n\n      var aux = reg_findid.exec(aux_html);\n\n\n\n      var id = '';\n      if (aux && aux[1]) {\n\n        id = aux[1];\n\n        for (var i in track_data) {\n\n\n\n          if (id == track_data[i].label || id == 'ap' + track_data[i].label) {\n            aux_html = aux_html.replace(aux[0], track_data[i].views);\n            foundnr++;\n            break;\n          }\n        }\n\n\n        _t2.html(aux_html);\n\n      }\n\n\n    })\n\n    if (foundnr < track_data.length) {\n\n      self._navMain.find('.menu-item-views').each(function () {\n\n        var _t2 = jQuery(this);\n\n        var aux_html = _t2.html();\n        var reg_findid = /{{views_(.*?)}}/g;\n\n        var aux = reg_findid.exec(aux_html);\n\n        if (aux && aux[0]) {\n\n          aux_html = aux_html.replace(aux[0], 0);\n          _t2.html(aux_html);\n        }\n\n      })\n    }\n\n\n  }\n}\n","import {playbtn_svg} from './jsinc/_dzsap_svgs';\nimport {ConstantsDzsAp} from \"./configs/_constants\";\nimport {default_opts} from './configs/_settingsPlaylist';\n\n\nimport {ZoomSoundsNav} from './jsinc/components/_nav';\n\nimport {\n  convertPluginOptionsToFinalOptions,\n  is_android,\n  is_ios,\n  can_history_api,\n  get_query_arg,\n  add_query_arg,\n  dzs_clean_string\n} from './jsinc/_dzsap_helpers';\nimport {dzsap_jQueryInit, loadScriptIfItDoesNotExist} from './js_common/_dzs_helpers';\n\n\nclass DzsApPlaylist {\n  constructor(argThis, argOptions, $) {\n\n    this.argThis = argThis;\n    this.argOptions = argOptions;\n    this.$ = $;\n    this.navClass = null;\n\n\n    this.init();\n  }\n\n  init() {\n\n\n    const $ = this.$;\n    const selfGallery = this;\n\n    var o = selfGallery.argOptions;\n    var cgallery = $(selfGallery.argThis);\n    var cid = 'ag1';\n    var currNr = -1 // -- the current player that is playing\n      , lastCurrNr = 0\n      , nrChildren = 0\n      , tempNr = 0;\n\n    var i = 0;\n\n\n    var dzsap_currplayer_focused = null;\n    var _sliderMain, _sliderClipper, _navMain, _navClipper;\n    let busy = false,\n      first = true,\n      destroyed = true,\n      skin_redlight_give_controls_right_to_all_players = false // -- if the mode is mode-showall and the skin of the player is redlights, then make all players with controls right\n    ;\n\n\n    let trying_to_get_track_data = false;\n\n\n    var arr_menuitems = [];\n    var track_data = []; // -- the whole track data views / likes etc.\n\n    var str_alertBeforeRate = 'You need to comment or rate before downloading.';\n\n\n    var duration_viy = 20;\n\n    var target_viy = 0;\n\n    var begin_viy = 0;\n\n    var change_viy = 0;\n\n    selfGallery.goto_item = goto_item;\n    selfGallery.handleResize = handleResize;\n\n\n    selfGallery.initOptions = o;\n    if (window.dzsap_settings && typeof (window.dzsap_settings.str_alertBeforeRate) != 'undefined') {\n      str_alertBeforeRate = window.dzsap_settings.str_alertBeforeRate;\n    }\n\n    cgallery.get(0).currNr_2 = -1; // -- we use this as backup currNR for mode-showall ( hack )\n\n    init();\n\n    function init() {\n      // -- init gallery here\n\n\n      if (o.settings_ap === 'default') {\n        if (cgallery.attr('data-player-options')) {\n          o.settings_ap = convertPluginOptionsToFinalOptions(cgallery.get(0), {}, null, 'data-player-options');\n        } else {\n          const _firstPlayer = cgallery.find('.audioplayer, .audioplayer-tobe').eq(0);\n          if (_firstPlayer) {\n\n            o.settings_ap = convertPluginOptionsToFinalOptions(_firstPlayer.get(0), {}, null);\n          }\n        }\n      } else {\n        if (typeof o.settings_ap == 'string' && window.dzsap_apconfigs) {\n          if (typeof window.dzsap_apconfigs[o.settings_ap] === 'object') {\n            o.settings_ap = {...window.dzsap_apconfigs[o.settings_ap]};\n          }\n        }\n      }\n\n\n      if (o.settings_ap === 'default' || typeof o.settings_ap === 'string') {\n        o.settings_ap = {};\n      }\n\n\n      if (o.design_menu_width === 'default') {\n        o.design_menu_width = '100%';\n      }\n\n      if (o.design_menu_height === 'default') {\n        o.design_menu_height = '200';\n      }\n\n\n      if (cgallery.hasClass('skin-wave')) {\n        o.design_skin = 'skin-wave';\n      }\n      if (cgallery.hasClass('skin-default')) {\n        o.design_skin = 'skin-default';\n      }\n      if (cgallery.hasClass('skin-aura')) {\n        o.design_skin = 'skin-aura';\n      }\n\n\n      cgallery.addClass(o.settings_mode);\n\n\n      cgallery.append('<div class=\"slider-main\"><div class=\"slider-clipper\"></div></div>');\n\n      cgallery.addClass('menu-position-' + o.design_menu_position);\n\n      _sliderMain = cgallery.find('.slider-main').eq(0);\n\n\n      var lengthAudioPlayersInPlaylist = cgallery.find('.items').children('.audioplayer-tobe').length;\n\n      // --- if there is a single audio player in the gallery - theres no point of a menu\n\n\n      o.settings_ap.disable_player_navigation = o.disable_player_navigation;\n      if (lengthAudioPlayersInPlaylist === 0 || lengthAudioPlayersInPlaylist === 1) {\n        o.design_menu_position = 'none';\n        o.settings_ap.disable_player_navigation = 'on';\n      }\n\n\n      selfGallery.navClass = new ZoomSoundsNav(selfGallery);\n\n\n      if (o.design_menu_position === 'top') {\n        _sliderMain.before(selfGallery.navClass.get_structZoomsoundsNav());\n      }\n      if (o.design_menu_position === 'bottom') {\n        _sliderMain.after(selfGallery.navClass.get_structZoomsoundsNav());\n      }\n\n\n      if (o.settings_php_handler) {\n\n      } else {\n        if (o.settings_ap.settings_php_handler) {\n          o.settings_php_handler = o.settings_ap.settings_php_handler;\n        }\n      }\n\n\n      if (typeof cgallery.attr('id')) {\n        cid = cgallery.attr('id');\n      } else {\n\n        var ind = 0;\n        while ($('ag' + ind).length === 0) {\n          ind++;\n        }\n\n\n        cid = 'ag' + ind;\n\n        cgallery.attr('id', cid);\n      }\n\n\n      _sliderClipper = cgallery.find('.slider-clipper').eq(0);\n      _navMain = cgallery.find('.nav-main').eq(0);\n      _navClipper = cgallery.find('.nav-clipper').eq(0);\n\n      if (cgallery.children('.extra-html').length) {\n        cgallery.append(cgallery.children('.extra-html'));\n      }\n\n      if (o.settings_mode === 'mode-showall') {\n        _sliderClipper.addClass('layout-' + o.mode_showall_layout);\n      }\n\n      selfGallery.navClass.set_elements(_navMain, _navClipper, cgallery);\n\n\n      reinit();\n\n\n      selfGallery.navClass.init_ready();\n\n\n      parse_track_data();\n\n\n      if (can_history_api() === false) {\n        o.settings_enable_linking = 'off';\n      }\n\n      $(window).on('resize', handleResize);\n      handleResize();\n      setTimeout(handleResize, 1000);\n\n\n      cgallery.get(0).api_skin_redlights_give_controls_right_to_all = function () {\n\n\n        skin_redlight_give_controls_right_to_all_players = true;\n      }\n\n\n      if (get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) {\n        tempNr = Number(get_query_arg(window.location.href, 'audiogallery_startitem_' + cid));\n\n        lastCurrNr = tempNr;\n        if (Number(get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) && Number(get_query_arg(window.location.href, 'audiogallery_startitem_' + cid)) > 0) {\n\n\n          // -- caution .. coming from share link will trigger autoplay!!!\n          if (o.force_autoplay_when_coming_from_share_link == 'on') {\n            o.autoplay = 'on';\n          }\n        }\n      }\n\n\n      if (o.settings_mode == 'mode-normal') {\n\n        goto_item(tempNr, {\n          'called_from': 'init'\n        });\n      }\n\n\n      if (o.settings_mode === 'mode-showall') {\n        // -- mode-showall\n\n        _sliderClipper.children().each(function () {\n          const _t = $(this);\n\n\n          var ind = _t.parent().children('.audioplayer,.audioplayer-tobe').index(_t);\n\n          if (_t.hasClass('audioplayer-tobe')) {\n\n\n            var player_args = Object.assign({}, o.settings_ap);\n            player_args.parentgallery = cgallery;\n            player_args.call_from = 'mode show-all';\n            player_args.action_audio_play = mode_showall_listen_for_play;\n\n            // -- showall\n            _t.audioplayer(player_args);\n\n\n            ind = String(ind + 1);\n\n            if (ind.length < 2) {\n              ind = '0' + ind;\n            }\n\n            if (o.mode_showall_layout === 'one-per-row' && o.settings_mode_showall_show_number !== 'off') {\n\n              _t.before('<div class=\"number-wrapper\"><span class=\"the-number\">' + ind + '</span></div>')\n              _t.after('<div class=\"clear for-number-wrapper\"></div>')\n            }\n          }\n\n        })\n\n\n        if ($.fn.isotope && o.mode_showall_layout !== 'one-per-row') {\n\n          // -- we have isotope\n          _sliderClipper.find('.audioplayer,.audioplayer-tobe').addClass('isotope-item');\n          setTimeout(function () {\n\n            _sliderClipper.prepend('<div class=\"grid-sizer\"></div>');\n            _sliderClipper.isotope({\n              // options\n              itemSelector: '.isotope-item',\n              layoutMode: 'fitRows',\n              percentPosition: true,\n              masonry: {\n                columnWidth: '.grid-sizer'\n              }\n            });\n            _sliderClipper.addClass('isotoped');\n            setTimeout(function () {\n              _sliderClipper.isotope('layout')\n            }, 900);\n          }, ConstantsDzsAp.PLAYLIST_TRANSITION_DURATION);\n\n\n          _sliderClipper.append('<div class=\"clear\"></div>');\n        }\n\n\n        if (skin_redlight_give_controls_right_to_all_players) {\n\n          _sliderClipper.children('.audioplayer').each(function () {\n\n            var _t = $(this);\n\n\n            if (_t.find('.ap-controls-right').eq(0).prev().hasClass('controls-right') === false) {\n              _t.find('.ap-controls-right').eq(0).before('<div class=\"controls-right\"> </div>');\n            }\n          });\n        }\n\n      }\n\n\n      cgallery.find('.download-after-rate').on('click', click_downloadAfterRate);\n\n      cgallery.get(0).api_regenerate_sync_players_with_this_playlist = regenerate_sync_players_with_this_playlist;\n      cgallery.get(0).api_goto_next = goto_next;\n      cgallery.get(0).api_goto_prev = goto_prev;\n      cgallery.get(0).api_goto_item = goto_item;\n      cgallery.get(0).api_gallery_handle_end = handlePlaylistSongEnd;\n      cgallery.get(0).api_toggle_menu_state = toggle_menu_state;\n      cgallery.get(0).api_handleResize = handleResize;\n      cgallery.get(0).api_player_commentSubmitted = player_commentSubmitted;\n      cgallery.get(0).api_player_rateSubmitted = player_rateSubmitted;\n      cgallery.get(0).api_reinit = reinit;\n      cgallery.get(0).api_play_curr_media = play_curr_media;\n      cgallery.get(0).api_get_nr_children = get_nr_children;\n      cgallery.get(0).api_init_player_from_gallery = init_player_from_gallery;\n      cgallery.get(0).api_filter = filterPlayersInPlaylist;\n      cgallery.get(0).api_destroy = destroy_gallery;\n      cgallery.get(0).SelfPlaylist = selfGallery;\n\n\n      setInterval(calculate_on_interval, 1000);\n\n\n      setTimeout(init_loaded, 700);\n\n\n      if (o.enable_easing == 'on') {\n\n        handle_frame();\n      }\n\n\n      cgallery.addClass('dzsag-inited');\n\n      cgallery.addClass('transition-' + o.playlistTransition);\n      cgallery.addClass('playlist-transition-' + o.playlistTransition);\n\n\n    }\n\n\n    function destroy_gallery() {\n\n\n      if (destroyed) {\n        return false;\n      }\n\n\n      cgallery.remove();\n      cgallery = null;\n\n      destroyed = true;\n    }\n\n    function filterPlayersInPlaylist(filterBy, searchedString) {\n      if (!(filterBy)) {\n        filterBy = 'title';\n      }\n\n      /**\n       *\n       * @param $audioPlayer_\n       * @returns {boolean} true if found\n       */\n      const filterForIsotope = ($audioPlayer_) => {\n\n        var $audioPlayer = $($audioPlayer_);\n        var referenceVal = '';\n\n        if (filterBy === 'title') {\n          referenceVal = $audioPlayer.find('.the-name').text();\n        }\n\n\n        if (searchedString === '') {\n          return true;\n        }\n        return referenceVal.toLowerCase().indexOf(searchedString.toLowerCase()) > -1;\n\n\n      }\n\n      _sliderClipper.children().each(function () {\n        var isAccordingToSearch = filterForIsotope(this);\n        if (isAccordingToSearch) {\n          $(this).addClass('is-according-to-search');\n        } else {\n          $(this).removeClass('is-according-to-search');\n        }\n        if (_sliderClipper.hasClass('isotoped')) {\n\n          _sliderClipper.isotope({\n            filter: '.is-according-to-search'\n          });\n        } else {\n          if (isAccordingToSearch) {\n            $(this).fadeIn('fast');\n          } else {\n            $(this).fadeOut('fast');\n          }\n        }\n      });\n\n    }\n\n    function regenerate_sync_players_with_this_playlist() {\n\n      // -- in case we play from playlist we overwrite whole footer playlist\n\n      window.dzsap_syncList_players = [];\n\n      _sliderClipper.children('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t = $(this);\n        _t.addClass('feeded-whole-playlist');\n        if (_t.attr('data-do-not-include-in-list') != 'on') {\n          window.dzsap_syncList_players.push(_t);\n        }\n      })\n    }\n\n\n    function init_parse_track_data() {\n\n      if (trying_to_get_track_data) {\n        return false;\n      }\n\n      trying_to_get_track_data = true;\n\n      var data = {\n        action: 'dzsap_get_views_all',\n        postdata: '1',\n      };\n\n\n      if (o.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: o.settings_php_handler,\n          data: data,\n          success: function (response) {\n\n\n            cgallery.attr('data-track-data', response);\n            parse_track_data();\n\n          },\n          error: function (arg) {\n\n          }\n        });\n      }\n\n\n    }\n\n    function parse_track_data() {\n      if (cgallery.attr('data-track-data')) {\n        try {\n          track_data = JSON.parse(cgallery.attr('data-track-data'));\n        } catch (err) {\n          console.log(err);\n        }\n\n        if (track_data && track_data.length) {\n\n          selfGallery.navClass.parseTrackData(track_data);\n\n        }\n\n\n      }\n\n\n    }\n\n    function get_nr_children() {\n      return nrChildren;\n    }\n\n    function find_player_id(arg) {\n      if (arg.attr('data-player-id')) {\n        return arg.attr('data-player-id');\n      } else {\n        if (arg.attr('id')) {\n          return arg.attr('id');\n        } else {\n          if (arg.attr('data-source')) {\n            return dzs_clean_string(arg.attr('data-source'));\n          }\n        }\n      }\n    }\n\n    function generateMenuItemObjects(notInitedPlayers) {\n\n      const arr_menuitems = [];\n      notInitedPlayers.each(function () {\n        var _c = $(this);\n        let menuDescriptionHtml = '';\n\n        if (_c.find('.menu-description').length && _c.find('.menu-description').eq(0).html()) {\n          menuDescriptionHtml = _c.find('.menu-description').html();\n        } else {\n          menuDescriptionHtml = '';\n\n          if (_c.find('.feed-artist-name').length || _c.find('.feed-song-name').length) {\n\n            menuDescriptionHtml = ``;\n            if (_c.attr('data-thumb')) {\n              menuDescriptionHtml += `<div class=\"menu-item-thumb-con\"><div class=\"menu-item-thumb\" style=\"background-image: url(${_c.attr('data-thumb')})\"></div></div>`;\n            }\n            menuDescriptionHtml += `<div class=\"menu-artist-info\"><span class=\"the-artist\">${_c.find('.feed-artist-name').html()}</span><span class=\"the-name\">${_c.find('.feed-song-name').html()}</span></div>`\n          }\n        }\n\n\n        var menuItemObject = {\n          'menu_description': menuDescriptionHtml,\n          'player_id': find_player_id(_c)\n        }\n\n        arr_menuitems.push(menuItemObject)\n\n\n      })\n\n      return arr_menuitems;\n    }\n\n    function reinit() {\n\n\n      const notInitedPlayers = cgallery.find('.items').eq(0).children('.audioplayer-tobe');\n      arr_menuitems = [];\n\n\n\n      arr_menuitems = generateMenuItemObjects(notInitedPlayers);\n      _sliderClipper.append(notInitedPlayers);\n\n\n      for (i = 0; i < arr_menuitems.length; i++) {\n        var extra_class = '';\n        if (arr_menuitems[i].menu_description && arr_menuitems[i].menu_description.indexOf('<div class=\"menu-item-thumb-con\"><div class=\"menu-item-thumb\" style=\"') == -1) {\n          extra_class += ' no-thumb';\n        }\n\n\n        var aux = '<div class=\"menu-item' + extra_class + '\"  data-menu-index=\"' + i + '\" data-gallery-id=\"' + cid + '\" data-playerid=\"' + arr_menuitems[i].player_id + '\">'\n\n        if (cgallery.hasClass('skin-aura')) {\n          aux += '<div class=\"menu-item-number\">' + (++nrChildren) + '</div>';\n        }\n\n        aux += arr_menuitems[i].menu_description;\n\n\n        if (cgallery.hasClass('skin-aura') && String(arr_menuitems[i].menu_description).indexOf('menu-item-views') == 1) {\n\n          if (track_data && track_data.length > 0) {\n\n            aux += '<div class=\"menu-item-views\"></div>';\n          } else {\n\n            init_parse_track_data();\n            aux += '<div class=\"menu-item-views\">' + playbtn_svg + ' ' + '<span class=\"the-count\">{{views_' + arr_menuitems[i].player_id + '}}' + '</span></div>';\n          }\n\n        }\n\n\n        aux += '</div>';\n\n        _navClipper.append(aux);\n\n\n        if (cgallery.hasClass('skin-aura')) {\n\n          if (arr_menuitems[i] && arr_menuitems[i].menu_description && arr_menuitems[i].menu_description.indexOf('float-right') > -1) {\n            _navClipper.children().last().addClass('has-extra-info')\n          }\n        }\n\n      }\n    }\n\n    function init_loaded() {\n      // -- gallery\n\n      cgallery.addClass('dzsag-loaded');\n    }\n\n    function click_downloadAfterRate() {\n      var _t = $(this);\n\n\n      if (!_t.hasClass('active')) {\n        alert(str_alertBeforeRate)\n        return false;\n      }\n    }\n\n\n    function play_curr_media() {\n\n      if (typeof (_sliderClipper.children().eq(currNr).get(0)) != 'undefined') {\n        if (typeof (_sliderClipper.children().eq(currNr).get(0).api_play_media) != 'undefined') {\n          _sliderClipper.children().eq(currNr).get(0).api_play_media({\n            'call_from': 'play_curr_media_gallery'\n          });\n        }\n\n      }\n    }\n\n    function mode_showall_listen_for_play(arg) {\n\n\n      if (o.settings_mode == 'mode-showall') {\n\n        var ind = _sliderClipper.children('.audioplayer,.audioplayer-tobe').index(arg);\n\n        currNr = ind;\n        cgallery.get(0).currNr_2 = ind;\n\n      }\n\n    }\n\n    function handle_frame() {\n\n      // -- cgallery\n\n      if (isNaN(target_viy)) {\n        target_viy = 0;\n      }\n\n      if (duration_viy === 0) {\n        requestAnimationFrame(handle_frame);\n        return false;\n      }\n\n      begin_viy = target_viy;\n      change_viy = selfGallery.navClass.finish_viy - begin_viy;\n\n\n      target_viy = Number(Math.easeIn(1, begin_viy, change_viy, duration_viy).toFixed(4));\n\n\n\n      if (is_ios() == false && is_android() == false) {\n        _navClipper.css({\n          'transform': 'translateY(' + target_viy + 'px)'\n        });\n      }\n\n\n      requestAnimationFrame(handle_frame);\n    }\n\n\n    function toggle_menu_state() {\n      selfGallery.navClass.toggle_menu_state();\n    }\n\n    function handlePlaylistSongEnd() {\n\n      console.log('handlePlaylistSongEnd() ', o);\n      if (o.autoplayNext == 'on') {\n\n        goto_next();\n      }\n    }\n\n    function player_commentSubmitted() {\n      _navClipper.children('.menu-item').eq(currNr).find('.download-after-rate').addClass('active');\n\n    }\n\n    function player_rateSubmitted() {\n      _navClipper.children('.menu-item').eq(currNr).find('.download-after-rate').addClass('active');\n    }\n\n    function calculateDims() {\n\n\n      if (o.settings_mode != 'mode-showall' && !_sliderClipper.hasClass('isotoped') && o.mode_normal_video_mode != 'one') {\n        // -- mode normal, not isotope\n        if (_sliderClipper.children().eq(currNr).hasClass('zoomsounds-wrapper-bg-bellow') == false) {\n          _sliderClipper.css('height', _sliderClipper.children().eq(currNr).outerHeight());\n\n        }\n      }\n\n      if (!_sliderClipper.hasClass('isotoped')) {\n        // -- not isotope\n        setTimeout(function () {\n          _sliderClipper.css('height', 'auto');\n        }, ConstantsDzsAp.PLAYLIST_TRANSITION_DURATION);\n      }\n\n\n      selfGallery.navClass.calculateDims();\n\n      if (o.embedded == 'on') {\n\n        if (window.frameElement) {\n          window.frameElement.height = cgallery.height();\n\n        }\n      }\n    }\n\n\n    function calculate_on_interval() {\n      // -- @called on setInterval\n\n      selfGallery.navClass.calculateDims();\n\n      // -- this is for player ? todo ...\n      // if (0 && o.gallery_gapless_play == 'on') {\n      //\n      //   if (o.parentgallery && cthis.hasClass('active-from-gallery')) {\n      //     var _c = o.parentgallery;\n      //\n      //\n      //     var _cach = _sliderClipper.children().eq(Number(_c.data('currNr')) + 1);\n      //\n      //\n      //     if (!(_cach.data('gapless-inited') == true)) {\n      //\n      //       var args = {\n      //         preload_method: \"auto\"\n      //         , \"autoplay\": \"off\"\n      //         , \"call_from\": \"gapless_play\"\n      //       }\n      //\n      //\n      //       _c.get(0).api_init_player_from_gallery(_cach, args);\n      //\n      //       _cach.data('gapless-inited', true);\n      //\n      //       setTimeout(function () {\n      //         _cach.get(0).api_handleResize();\n      //       }, 1000)\n      //     }\n      //   }\n      // }\n\n\n    }\n\n\n    function handleResize() {\n\n      if (o.settings_mode !== 'mode-showall' && _sliderClipper.hasClass('isotoped') === false) {\n        setTimeout(function () {\n\n          _sliderClipper.css('height', _sliderClipper.children().eq(currNr).outerHeight());\n        }, 500);\n      }\n\n      calculateDims();\n\n    }\n\n    function transition_end(newCurrNr) {\n      _sliderClipper.children().eq(lastCurrNr).removeClass('transitioning-out');\n\n      _sliderClipper.children().eq(newCurrNr).removeClass('transitioning-in');\n      lastCurrNr = currNr;\n      busy = false;\n    }\n\n    function transition_bg_end() {\n      cgallery.parent().children('.the-bg').eq(0).remove();\n      busy = false;\n    }\n\n    function goto_prev() {\n      tempNr = currNr;\n      tempNr--;\n\n      var isGoingToItem = true;\n\n\n      if (tempNr < 0) {\n        tempNr = _sliderClipper.children().length - 1;\n\n        if (o.loop_playlist == 'off') {\n          isGoingToItem = false;\n        }\n      }\n\n      if (isGoingToItem) {\n\n        goto_item(tempNr);\n      }\n    }\n\n    function goto_next() {\n\n      tempNr = currNr;\n\n\n      var isGoingToItem = true;\n\n      if (o.settings_mode == 'mode-showall') {\n        tempNr = cgallery.get(0).currNr_2;\n      }\n      tempNr++;\n      if (tempNr >= _sliderClipper.children().length) {\n        tempNr = 0;\n\n        if (o.loop_playlist == 'off') {\n          isGoingToItem = false;\n        }\n      }\n\n\n      if (isGoingToItem) {\n\n        goto_item(tempNr);\n      }\n    }\n\n    function goto_item(newCurrNr, pargs) {\n\n\n      var margs = {\n\n        'ignore_arg_currNr_check': false\n        , 'ignore_linking': false // -- does not change the link if set to true\n        , donotopenlink: \"off\"\n        , called_from: \"default\"\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      if (busy == true) {\n        return;\n      }\n\n      if (newCurrNr == \"last\") {\n        newCurrNr = _sliderClipper.children().length - 1;\n      }\n\n\n      if (Boolean(currNr == newCurrNr)) {\n        if (_sliderClipper && _sliderClipper.children().eq(currNr).get(0) && _sliderClipper.children().eq(currNr).get(0).api_play_media) {\n          _sliderClipper.children().eq(currNr).get(0).api_play_media({\n            'call_from': 'gallery'\n          });\n        }\n        return;\n      }\n\n      var _audioplayerToBeActive = _sliderClipper.children('.audioplayer,.audioplayer-tobe').eq(newCurrNr);\n\n\n      var currNr_last_vol = '';\n\n      if (currNr > -1) {\n        if (typeof (_sliderClipper.children().eq(currNr).get(0)) != 'undefined') {\n          if (typeof (_sliderClipper.children().eq(currNr).get(0).api_pause_media) != 'undefined') {\n            _sliderClipper.children().eq(currNr).get(0).api_pause_media();\n          }\n          if (typeof (_sliderClipper.children().eq(currNr).get(0).api_get_last_vol) != 'undefined') {\n            currNr_last_vol = _sliderClipper.children().eq(currNr).get(0).api_get_last_vol();\n          }\n\n        }\n\n\n        _navClipper.children().removeClass('active active-from-gallery');\n\n\n        if (o.mode_normal_video_mode == 'one') {\n\n        } else {\n\n          if (o.settings_mode != 'mode-showall') {\n\n\n            _sliderClipper.children().eq(currNr).removeClass('active active-from-gallery');\n            _navClipper.children().eq(currNr).removeClass('active active-from-gallery');\n\n\n          }\n        }\n\n      }\n\n\n      // --  setting settings\n      if (o.settings_ap.design_skin === 'sameasgallery') {\n        o.settings_ap.design_skin = o.design_skin;\n      }\n\n\n      // -- if this is  the first audio\n      if (currNr == -1 && o.autoplay == 'on') {\n        o.settings_ap.autoplay = 'on';\n      }\n\n\n      // -- if this is not the first audio\n      if (currNr > -1 && o.autoplayNext == 'on') {\n        o.settings_ap.autoplay = 'on';\n      }\n      o.settings_ap.parentgallery = cgallery;\n\n      o.settings_ap.design_menu_show_player_state_button = o.design_menu_show_player_state_button;\n      o.settings_ap.cue = 'on';\n      if (first == true) {\n        if (o.cueFirstMedia == 'off') {\n          o.settings_ap.cue = 'off';\n        }\n\n        first = false;\n      }\n\n      // -- setting settings END\n\n\n      var args_player = $.extend({}, o.settings_ap);\n\n\n      args_player.volume_from_gallery = currNr_last_vol;\n      args_player.call_from = 'gotoItem';\n      args_player.player_navigation = o.player_navigation;\n\n\n      if (o.mode_normal_video_mode == 'one' && newCurrNr > -1 && margs.called_from != 'init') {\n        // -- video mode -> one\n\n\n        var _c = _sliderClipper.children().eq(0).get(0);\n        _audioplayerToBeActive = _sliderClipper.children().eq(0);\n\n        if (_c) {\n          if (_c.api_play_media) {\n\n\n            _c.api_change_media(_sliderClipper.children().eq(newCurrNr), {\n              'called_from': 'goto_item -- mode_normal_video_mode()',\n              'modeOneGalleryIndex': newCurrNr,\n              'source_player_do_not_update': 'on',\n\n            });\n\n            if (o.autoplayNext == 'on') {\n              setTimeout(function () {\n                _c.api_play_media();\n              }, 200);\n            }\n          }\n        }\n      } else {\n\n        // -- init player from gallery\n        init_player_from_gallery(_audioplayerToBeActive, args_player);\n\n      }\n\n\n      // -- actions after init\n      if (o.autoplayNext === 'on') {\n        if (o.settings_mode === 'mode-showall') {\n          currNr = cgallery.get(0).currNr_2;\n        }\n        if (!!(currNr > -1 && _audioplayerToBeActive.get(0) && _audioplayerToBeActive.get(0).api_play)) {\n          _audioplayerToBeActive.get(0).api_play();\n        }\n      }\n\n      if (o.settings_ap.playfrom === undefined || o.settings_ap.playfrom === \"0\") {\n        if (_audioplayerToBeActive.get(0) && _audioplayerToBeActive.get(0).api_seek_to) {\n          _audioplayerToBeActive.get(0).api_seek_to(0, {call_from: 'playlist_seek_from_0'});\n        } else {\n          console.log('_audioplayerToBeActive not found - ', _audioplayerToBeActive);\n        }\n      }\n\n\n      // -- end actions after init\n\n      dzsap_currplayer_focused = _audioplayerToBeActive.get(0);\n\n\n      if (o.settings_mode !== 'mode-showall') {\n        _sliderClipper.children().eq(currNr).addClass('transitioning-out');\n        _audioplayerToBeActive.removeClass('transitioning-out-complete');\n        _audioplayerToBeActive.addClass('transitioning-in');\n        setTimeout((_arg) => {\n          _arg.addClass('transitioning-out-complete')\n        }, ConstantsDzsAp.PLAYLIST_TRANSITION_DURATION, _sliderClipper.children().eq(currNr));\n\n        if (_audioplayerToBeActive.attr('data-type') != 'link') {\n          if (margs.ignore_linking == false && o.settings_enable_linking == 'on') {\n            var stateObj = {foo: \"bar\"};\n            history.pushState(stateObj, null, add_query_arg(window.location.href, 'audiogallery_startitem_' + cid, (newCurrNr)));\n          }\n        }\n\n        if (o.playlistTransition === 'fade') {\n          setTimeout(transition_end, ConstantsDzsAp.PLAYLIST_TRANSITION_DURATION, newCurrNr);\n          busy = true;\n        }\n        if (o.playlistTransition === 'direct') {\n          transition_end(newCurrNr);\n        }\n      }\n\n      _audioplayerToBeActive.addClass('active active-from-gallery');\n      _navClipper.children().eq(newCurrNr).addClass('active active-from-gallery');\n\n      // -- background parent\n\n\n      var bgimage = '';\n\n      if (_audioplayerToBeActive.attr(\"data-bgimage\")) {\n        bgimage = _audioplayerToBeActive.attr(\"data-bgimage\");\n      }\n\n      if (_audioplayerToBeActive.attr(\"data-wrapper-image\")) {\n        bgimage = _audioplayerToBeActive.attr(\"data-wrapper-image\");\n      }\n\n\n      if (bgimage && cgallery.parent().hasClass('ap-wrapper') && cgallery.parent().children('.the-bg').length > 0) {\n\n\n        cgallery.parent().children('.the-bg').eq(0).after('<div class=\"the-bg\" style=\"background-image: url(' + bgimage + ');\"></div>')\n        cgallery.parent().children('.the-bg').eq(0).css({\n          'opacity': 1\n        })\n\n\n        cgallery.parent().children('.the-bg').eq(1).css({\n          'opacity': 0\n        })\n        cgallery.parent().children('.the-bg').eq(1).animate({\n          'opacity': 1\n        }, {\n          queue: false,\n          duration: 1000,\n          complete: transition_bg_end,\n          step: function () {\n            busy = true;\n          }\n        })\n        busy = true;\n      }\n\n\n      if (o.settings_mode != 'mode-showall') {\n\n        currNr = newCurrNr;\n\n        cgallery.data('currNr', currNr);\n      }\n\n\n      if (_sliderClipper.children().eq(currNr).get(0) && _sliderClipper.children().eq(currNr).get(0).api_handleResize && _sliderClipper.children().eq(currNr).hasClass('media-setuped')) {\n\n\n        _sliderClipper.children().eq(currNr).get(0).api_handleResize();\n      }\n\n      calculateDims();\n    }\n\n    function init_player_from_gallery(_cache, pargs) {\n\n      var player_args = $.extend({}, o.settings_ap);\n\n\n      if (pargs) {\n        player_args = $.extend(player_args, pargs);\n      }\n\n\n      if (_cache.hasClass('audioplayer-tobe')) {\n        o.settings_ap.call_from = 'init player from gallery';\n\n        player_args.is_inited_from_playlist = true;\n        _cache.audioplayer(player_args);\n      }\n    }\n  }\n}\n\n\n\nconst registerToJqueryPlaylist = function ($) {\n  $.fn.audiogallery = function (argOptions) {\n    let finalOptions = {};\n    const defaultOptions = {...default_opts};\n    finalOptions = convertPluginOptionsToFinalOptions(this, defaultOptions, argOptions);\n\n\n    this.each(function () {\n      this.linkedClassInstance = new DzsApPlaylist(this, finalOptions, $);\n    });\n  }\n\n\n  window.dzsag_init = function (selector, settings) {\n    $(selector).audiogallery(Object.assign({}, settings));\n  }\n}\n\ndzsap_jQueryInit().then(() => {\n  registerToJqueryPlaylist(jQuery);\n  jQuery(document).ready(function ($) {\n    window.dzsap_init_allGalleries($);\n  });\n})\n\nwindow.dzsap_init_allGalleries = function ($) {\n\n  const $feed_dzsapConfigs = document.querySelectorAll('.dzsap-feed--dzsap-configs');\n  if ($feed_dzsapConfigs && $feed_dzsapConfigs.length) {\n    try {\n      window.dzsap_apconfigs = JSON.parse($feed_dzsapConfigs[$feed_dzsapConfigs.length-1].innerHTML);\n\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  // -- load audio player\n  loadScriptIfItDoesNotExist('', 'dzsap_inited').then(()=>{\n    $('.audiogallery.auto-init').each(function () {\n      const $currGallery = $(this);\n      if (!$currGallery.hasClass('dzsag-inited')) {\n        if (window.dzsag_init) {\n          dzsag_init($currGallery);\n        }\n      }\n    })\n  })\n}\n"],"names":["ConstantsDzsAp","PLAYLIST_TRANSITION_DURATION","URL_WAVESURFER_HELPER_BACKUP","WAVESURFER_MAX_TIMEOUT","DEBUG_STYLE_PLAY_FUNCTIONS","URL_JQUERY","ERRORED_OUT_CLASS","ERRORED_OUT_MAX_ATTEMPTS","DZSAP_PLAYER_CLASS_FOOTER_PLAYER","DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM","DZSAP_SCRIPT_SELECTOR_KEYBOARD","DZSAP_VIEW_SONG_CHANGER_CLASS","dzsap_jQueryInit","callback","reject","Promise","resolve","window","jQuery","script","document","createElement","onload","src","head","appendChild","setTimeout","loadScriptIfItDoesNotExist","scriptSrc","checkForVar","onerror","sanitizeToCssPx","arg","String","indexOf","isValid","n","formatTime","s","Math","round","m","h","isFinite","can_history_api","history","pushState","dzs_clean_string","replace","get_query_arg","purl","key","regtest","RegExp","exec","splitterS","aux","split","add_query_arg","value","pair","encodeURIComponent","r","regex_attr","dzsap_is_mobile","is_ios","is_android","navigator","platform","can_canvas","getContext","is_safari","Object","prototype","toString","call","HTMLElement","userAgent","toLowerCase","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","is_android_good","htmlEncode","text","html","dzsap_generate_keyboard_tooltip","keyboard_controls","lab","structureDzsTooltipCommentAfterSubmit","hexToRgb","hex","targetAlpha","result","str","alpha","parseInt","g","b","assignHelperFunctionsToJquery","$","easeIn","t","c","d","checkIfHasClass","argfind","auxarr","fn","prependOnce","_t","this","children","length","prepend","appendOnce","append","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","last","css","width","remove","player_checkIfWeShouldShowAComment","selfClass","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","each","hasClass","_t_posx","offset","left","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","utils_sanitizeToColor","colorString","dzsapInitjQueryRegisters","player_radio_isNameUpdatable","radio_update_song_name","targetKey","_metaArtistCon","playerRegisterWindowFunctions","argtime","argcthis","Infinity","action","id_track","postdata","ceil","post","dzsap_ajaxurl","response","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","assignPcmData","pcmSource","string_jsonConvertToArray","cthis","initOptions","skinwave_enableSpectrum","pcmSourceLen","desiredSize","i","splice","ar_str","waves","JSON","parse","err","dzsap_singleton_ready_calls","dzsap_singleton_ready_calls_is_called","$feed_dzsapMainSettings","$feed_dzsapMainSettingsAll","querySelectorAll","innerHTML","ajaxurl","ajax_url","dzsap__style","after","on","dzsap_currplayer_focused","dzsap_keyboardSetup","jQueryAuxBindings","off","e","$t","preventDefault","stopPropagation","stopImmediatePropagation","_c","get","api_change_media","view_player_playMiscEffects","$conPlayPause","view_player_globalDetermineSyncPlayersIndex","_sourcePlayer","dzsap_syncList_players","forEach","$syncPlayer","dzsap_syncList_index","player_view_addMetaLoaded","$totalTime","timeModel","refreshTimes","getVisualTotalTime","htmlEntities","waitForScriptToBeAvailableThenExecute","verifyVar","callbackFn","checkInterval","checkIfVarExists","clearInterval","setInterval","then","player_reinit_findIfPcmNeedsGenerating","o","hasInitialPcmData","skinwave_wave_mode","design_skin","isPcmRequiredToGenerate","scrubbar_type","is_inited_from_playlist","scrubbar_type_wave__has_reveal_animation","playerFunctions","functionType","skinwave_comments_playerid","the_player_id","uniqueId","identifier_pcm","skinwave_comments_enable","player_delete","_con","prev","sanitizeToHexColor","hexcolor","player_identifySource","data_source","player_identifyTypes","disable_timer","audioTypeSelfHosted_streamType","disable_scrub","player_getPlayFromTime","playFrom","playfrom","isNaN","sanitizeToIntFromPointTime","sampleTimeStart","arr","Number","player_determineStickToBottomContainer","$conTest","$stickToBottomContainer","isStickyPlayer","player_stickToBottomContainerDetermineClasses","player_service_getSourceProtection","player_isGoingToSetupMediaNow","player_stopOtherPlayers","dzsap_list","api_pause_media","api_destroy_for_rebuffer","player_syncPlayers_gotoItem","targetIncrement","syncPlayers_autoplayEnabled","$playerInSyncList","keySyncPlayer","targetIndex","$currentSyncPlayer_","api_play_media","player_syncPlayers_buildList","syncPlayers_isDzsapListBuilt","_t23","push","clearTimeout","syncPlayers_buildTimeout","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","$es","finalOptions","tempOptions","isSetFromJson","undefined","$elThis","isArgOptionsDefinedViaJs","Boolean","keys","eval","assign","generateFakeArrayForPcm","it1","random","handle_keypresses","dzsap_isTextFieldFocused","extend","$keyboardControlsInfo","dzsap_keyboard_controls","step_back_amount","dzsap_generate_keyboard_controls","isKeyPressed","pause_play","dzsap_mouseover","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","checkKeyCode","ctrlKey","keyCode","currentTarget","$audioGallery","api_filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","default_opts","cueFirstMedia","autoplay","autoplayNext","settings_enable_linking","design_menu_position","navigation_method","design_menu_state","design_menu_show_player_state_button","design_menu_width","design_menu_height","design_menu_space","settings_php_handler","design_menuitem_width","design_menuitem_height","design_menuitem_space","disable_menu_navigation","loop_playlist","menu_facebook_share","enable_easing","settings_ap","playlistTransition","embedded","mode_showall_layout","settings_mode","settings_mode_showall_show_number","mode_normal_video_mode","ZoomSoundsNav","parentGallery","structZoomsoundsNav","_navMain","_navClipper","cgallery","size_navMainClipSize","size_navMainTotalSize","finish_viy","init","selfGallery","hide","ind","goto_item","outerHeight","self","navMain_mousemove","my","pageX","pageY","top","viy","aux_error","handleResize","track_data","foundnr","_t2","aux_html","id","label","views","DzsApPlaylist","argThis","navClass","_sliderMain","_sliderClipper","currNr","lastCurrNr","nrChildren","tempNr","busy","first","destroyed","skin_redlight_give_controls_right_to_all_players","trying_to_get_track_data","arr_menuitems","str_alertBeforeRate","target_viy","begin_viy","change_viy","destroy_gallery","filterPlayersInPlaylist","filterBy","searchedString","$audioPlayer","referenceVal","isAccordingToSearch","isotope","filter","fadeIn","fadeOut","regenerate_sync_players_with_this_playlist","init_parse_track_data","parse_track_data","console","log","parseTrackData","get_nr_children","reinit","notInitedPlayers","menuDescriptionHtml","menuItemObject","generateMenuItemObjects","extra_class","menu_description","player_id","init_loaded","click_downloadAfterRate","alert","play_curr_media","mode_showall_listen_for_play","currNr_2","handle_frame","toFixed","requestAnimationFrame","toggle_menu_state","handlePlaylistSongEnd","goto_next","player_commentSubmitted","player_rateSubmitted","calculateDims","frameElement","calculate_on_interval","transition_end","newCurrNr","transition_bg_end","goto_prev","isGoingToItem","pargs","margs","donotopenlink","called_from","_audioplayerToBeActive","currNr_last_vol","api_get_last_vol","parentgallery","cue","args_player","volume_from_gallery","call_from","player_navigation","init_player_from_gallery","api_play","api_seek_to","_arg","ignore_linking","foo","bgimage","animate","queue","duration","complete","step","api_handleResize","_cache","player_args","audioplayer","_firstPlayer","dzsap_apconfigs","lengthAudioPlayersInPlaylist","disable_player_navigation","before","get_structZoomsoundsNav","set_elements","init_ready","api_skin_redlights_give_controls_right_to_all","force_autoplay_when_coming_from_share_link","action_audio_play","itemSelector","layoutMode","percentPosition","masonry","columnWidth","api_regenerate_sync_players_with_this_playlist","api_goto_next","api_goto_prev","api_goto_item","api_gallery_handle_end","api_toggle_menu_state","api_player_commentSubmitted","api_player_rateSubmitted","api_reinit","api_play_curr_media","api_get_nr_children","api_init_player_from_gallery","api_destroy","SelfPlaylist","audiogallery","linkedClassInstance","dzsag_init","selector","settings","registerToJqueryPlaylist","ready","dzsap_init_allGalleries","$feed_dzsapConfigs","$currGallery"],"sourceRoot":""}