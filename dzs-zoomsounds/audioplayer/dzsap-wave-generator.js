/*! For license information please see dzsap-wave-generator.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={627:(e,t,r)=>{r.d(t,{A1:()=>i,IY:()=>n,MG:()=>c,kC:()=>o,kp:()=>a,w0:()=>s});var n="background-color: #daffda; color: #222222;",a=2e4,o="dzsap_footer",i="dzsap-sticktobottom",s="#dzsap-keyboard-controls",c="audioplayer-song-changer"},989:(e,t,r)=>{r.d(t,{JY:()=>n}),r(627);var n=function(e){return void 0!==e&&""!=e}},616:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C6:()=>generateFakeArrayForPcm,L5:()=>convertPluginOptionsToFinalOptions});var _js_common_dzs_helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(989),_player_player_keyboard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(324),_configs_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(627);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function formatTime(e){var t=Math.round(e),r=0,n=0;if(t>0){for(;t>3599&&t<3e6&&isFinite(t);)n++,t-=3600;for(;t>59&&t<3e6&&isFinite(t);)r++,t-=60;return String(n?(n<10?"0":"")+n+":"+String((r<10?"0":"")+r+":"+(t<10?"0":"")+t):(r<10?"0":"")+r+":"+(t<10?"0":"")+t)}return"00:00"}function can_history_api(){return!(!window.history||!history.pushState)}function dzs_clean_string(e){return e?e=(e=e.replace(/[^A-Za-z0-9\-]/g,"")).replace(/\./g,""):""}function get_query_arg(e,t){if(e&&String(e).indexOf(t+"=")>-1){var r=new RegExp("[?&]"+t+"=.+").exec(e);if(null!=r){var n=r[0];if(n.indexOf("&")>-1){var a=n.split("&");n=a[1]}return n.split("=")[1]}}}function add_query_arg(e,t,r){e||(e="");var n=e,a=(t=encodeURIComponent(t))+"="+(r=encodeURIComponent(r)),o=new RegExp("(&|\\?)"+t+"=[^&]*");if((n=n.replace(o,"$1"+a)).indexOf(t+"=")>-1||(n.indexOf("?")>-1?n+="&"+a:n+="?"+a),"NaN"===r){var i=new RegExp("[?|&]"+t+"="+r);-1===(n=n.replace(i,"")).indexOf("?")&&n.indexOf("&")>-1&&(n=n.replace("&","?"))}return n}function dzsap_is_mobile(){return is_ios()||is_android()}function is_ios(){return-1!==navigator.platform.indexOf("iPhone")||-1!==navigator.platform.indexOf("iPod")||-1!==navigator.platform.indexOf("iPad")}function can_canvas(){return!!document.createElement("canvas").getContext("2d")}function is_safari(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0}function is_android(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}function select_all(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(t)}else if(void 0!==document.selection&&void 0!==document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.select()}}function is_android_good(){}function htmlEncode(e){return jQuery("<div/>").text(e).html()}function dzsap_generate_keyboard_tooltip(e,t){var r='<span class="dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default" style="width: auto;  white-space:nowrap;"><span class="dzstooltip--inner">Shortcut: '+e[t]+"</span></span>";return(r=r.replace("32","space")).replace("27","escape")}function hexToRgb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n="";if(r){var a=1;null!==t&&(a=t),n="rgba("+(r={r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}).r+","+r.g+","+r.b+","+a+")"}return n}function assignHelperFunctionsToJquery(e){Math.easeIn=function(e,t,r,n){return-r*(e/=n)*(e-2)+t};var t=function(e,t){if(!e){var r=new RegExp('class="(.*?)"').exec(t);r&&r[1]&&(e="."+r[1])}return e};e.fn.prependOnce=function(r,n){var a=e(this);return n=t(n,r),a.children(n).length<1&&(a.prepend(r),!0)},e.fn.appendOnce=function(r,n){var a=e(this);return n=t(n,r),a.children(n).length<1&&(a.append(r),!0)}}function registerTextWidth(e){e.fn.textWidth=function(){var e=jQuery(this),t=e.html();"INPUT"===e[0].nodeName&&(t=e.val());var r='<span class="forcalc">'+t+"</span>";jQuery("body").append(r);var n=jQuery("span.forcalc").last();n.css({"font-size":e.css("font-size"),"font-family":e.css("font-family")});var a=n.width();return n.remove(),a}}function player_checkIfWeShouldShowAComment(e,t,r){var n=jQuery,a=Math.round(t/r*100)/100;"fake"===e.audioType&&(a=Math.round(e.timeCurrent/e.timeTotal*100)/100),e._commentsHolder&&e._commentsHolder.children().each((function(){var t=n(this);if(t.hasClass("dzstooltip-con")){var r=t.offset().left-e._commentsHolder.offset().left,o=Math.round(parseFloat(r)/e._commentsHolder.outerWidth()*100)/100;o&&(Math.abs(o-a)<.02?(e._commentsHolder.find(".dzstooltip").removeClass("active"),t.find(".dzstooltip").addClass("active")):t.find(".dzstooltip").removeClass("active"))}}))}function sanitizeObjectForChangeMediaArgs(e){var t={},r=e,n="";return e.data("original-settings")?e.data("original-settings"):(t.source=null,r.attr("data-source")?t.source=r.attr("data-source"):r.attr("href")&&(t.source=r.attr("href")),r.attr("data-pcm")&&(t.pcm=r.attr("data-pcm")),n="thumb",r.attr("data-"+n)&&(t[n]=e.attr("data-"+n)),n="playerid",r.attr("data-"+n)&&(t[n]=e.attr("data-"+n)),n="type",r.attr("data-"+n)&&(t[n]=e.attr("data-"+n)),r.attr("data-thumb_link")&&(t.thumb_link=e.attr("data-thumb_link")),(e.find(".meta-artist").length>0||e.find(".meta-artist-con").length>0)&&(t.artist=e.find(".the-artist").eq(0).html(),t.song_name=e.find(".the-name").eq(0).html()),e.attr("data-thumb_for_parent")&&(t.thumb=e.attr("data-thumb_for_parent")),(e.find(".feed-song-name").length>0||e.find(".feed-artist-name").length>0)&&(t.artist=e.find(".feed-artist-name").eq(0).html(),t.song_name=e.find(".feed-song-name").eq(0).html()),t)}function utils_sanitizeToColor(e){return-1===e.indexOf("#")&&-1===e.indexOf("rgb")&&-1===e.indexOf("hsl")?"#"+e:e}function dzsapInitjQueryRegisters(){}function player_radio_isNameUpdatable(e,t,r){return!!(e._metaArtistCon.find(r).length&&e._metaArtistCon.find(r).eq(0).text().length>0&&e._metaArtistCon.find(r).eq(0).html().indexOf("{{update}}")>-1)}function playerRegisterWindowFunctions(){window.dzsap_functions={},window.dzsap_functions.send_total_time=function(e,t){if(e&&e!==1/0){var r={action:"dzsap_send_total_time_for_track",id_track:t.attr("data-playerid"),postdata:Math.ceil(e)};jQuery.post(window.dzsap_ajaxurl,r,(function(e){}))}},window.dzs_open_social_link=function(e,t){var r,n,a="status=no,height=500,width=500,resizable=yes,left="+(r=window.screen.width/2-260)+",top="+(n=window.screen.height/2-300)+",screenX="+r+",screenY="+n+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";e=e.replace("{{replacewithcurrurl}}",encodeURIComponent(window.location.href)),t&&t.attr&&(e=e.replace(/{{replacewithdataurl}}/g,t.attr("data-url")));var o=window.location.href.split("?"),i="",s="";if(t||window.dzsap_currplayer_from_share&&(t=window.dzsap_currplayer_from_share),t){var c=jQuery;c(t).hasClass("audioplayer")?(i=c(t).parent().children().index(t),s=c(t).parent().parent().parent().attr("id")):(jQuery(t).parent().parent().attr("data-menu-index")&&(i=jQuery(t).parent().parent().attr("data-menu-index")),jQuery(t).parent().parent().attr("data-gallery-id")&&(s=jQuery(t).parent().parent().attr("data-gallery-id")))}var u=encodeURIComponent(o[0]+"?fromsharer=on&audiogallery_startitem_"+s+"="+i);e=e.replace("{{shareurl}}",u),window.open(e,"sharer",a)},window.dzsap_wp_send_contor_60_secs=function(e,t){var r={video_title:t,video_analytics_id:e.attr("data-playerid"),curr_user:window.dzsap_curr_user},n="index.php?action=ajax_dzsap_submit_contor_60_secs";window.dzsap_settings.dzsap_site_url&&(n=dzsap_settings.dzsap_site_url+n),jQuery.ajax({type:"POST",url:n,data:r,success:function(e){},error:function(e){}})},window.dzsap_init_multisharer=function(){}}function assignPcmData(e){if(e.pcmSource=string_jsonConvertToArray(e.cthis.attr("data-pcm")),"on"===e.initOptions.skinwave_enableSpectrum){for(var t=e.pcmSource.length,r=256,n=0;n<t;n++)n>r||(e.pcmSource[n]=e.pcmSource[n*t/r]*r);e.pcmSource.splice(r,t-r)}}function string_jsonConvertToArray(e){var t=[];if("object"==_typeof(e))t=e;else try{t=JSON.parse(e)}catch(e){}return t}function dzsap_singleton_ready_calls(){window.dzsap_singleton_ready_calls_is_called=!0;var e=null,t=document.querySelectorAll(".dzsap-main-settings");t.length&&(e=t[t.length-1]),e&&(window.dzsap_settings=JSON.parse(e.innerHTML),window.ajaxurl=window.dzsap_settings.ajax_url,window.dzsap_curr_user=window.dzsap_settings.dzsap_curr_user),jQuery("body").append('<style class="dzsap--style"></style>'),window.dzsap__style=jQuery(".dzsap--style"),jQuery("audio.zoomsounds-from-audio").each((function(){var e=jQuery(this);e.after('<div class="audioplayer-tobe auto-init skin-silver" data-source="'+e.attr("src")+'"></div>'),e.remove()})),jQuery(document).on("focus.dzsap","input",(function(){window.dzsap_currplayer_focused=null})),registerTextWidth(jQuery),(0,_player_player_keyboard__WEBPACK_IMPORTED_MODULE_1__.z2)()}function jQueryAuxBindings(e){e(document).off("click.dzsap_metas"),e(document).on("click.dzsap_metas","."+_configs_constants__WEBPACK_IMPORTED_MODULE_2__.MG,(function(t){var r=e(this);if(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),r.hasClass(_configs_constants__WEBPACK_IMPORTED_MODULE_2__.MG)){var n=e(r.attr("data-fakeplayer")).eq(0);return n&&n.get(0)&&n.get(0).api_change_media&&n.get(0).api_change_media(r,{feeder_type:"button",call_from:"changed "+_configs_constants__WEBPACK_IMPORTED_MODULE_2__.MG}),!1}}))}function view_player_playMiscEffects(e){e.$conPlayPause.addClass("playing"),e.cthis.parent().hasClass("zoomsounds-wrapper-bg-center")&&e.cthis.parent().addClass("is-playing")}function view_player_globalDetermineSyncPlayersIndex(e){null===e._sourcePlayer&&window.dzsap_syncList_players&&window.dzsap_syncList_players.forEach((function(t,r){e.cthis.attr("data-playerid")==t.attr("data-playerid")&&(window.dzsap_syncList_index=r)}))}function player_view_addMetaLoaded(e){e.cthis.addClass("meta-loaded"),e.cthis.removeClass("meta-fake"),e._sourcePlayer&&(e._sourcePlayer.addClass("meta-loaded"),e._sourcePlayer.removeClass("meta-fake")),e.$totalTime&&(e.timeModel.refreshTimes(),e.$totalTime.html(formatTime(e.timeModel.getVisualTotalTime()))),e._sourcePlayer&&e._sourcePlayer.addClass("meta-loaded")}function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function waitForScriptToBeAvailableThenExecute(e,t){new Promise((function(t,r){var n=0;function a(){e&&(clearInterval(n),t("var exists"))}a(),n=setInterval(a,300),setTimeout((function(){r("timeout")}),5e3)})).then((function(e){t(e)})).catch((function(e){}))}function player_reinit_findIfPcmNeedsGenerating(e){var t=e.initOptions;e.cthis.attr("data-pcm")&&(e.hasInitialPcmData=!0),e.hasInitialPcmData||"canvas"!==t.skinwave_wave_mode||"skin-wave"!==t.design_skin&&!e.cthis.attr("data-fakeplayer")||(e.isPcmRequiredToGenerate=!0),"wave"===t.scrubbar_type&&(t.is_inited_from_playlist&&e.cthis.addClass("scrubbar-type-wave--has-reveal-animation"),"on"===t.scrubbar_type_wave__has_reveal_animation&&e.cthis.addClass("scrubbar-type-wave--has-reveal-animation"),e.isPcmRequiredToGenerate&&e.cthis.addClass("scrubbar-type-wave--has-reveal-animation"))}function playerFunctions(e,t){var r=e.initOptions;"detectIds"===t&&(""===r.skinwave_comments_playerid&&void 0!==e.cthis.attr("id")&&(e.the_player_id=e.cthis.attr("id")),""==e.the_player_id&&(e.cthis.attr("data-computed-playerid")&&(e.the_player_id=e.cthis.attr("data-computed-playerid")),e.cthis.attr("data-real-playerid")&&(e.the_player_id=e.cthis.attr("data-real-playerid"))),e.uniqueId=e.the_player_id,"string"==typeof e.uniqueId&&(e.uniqueId=e.uniqueId.replace("ap","")),e.identifier_pcm=e.uniqueId,""===e.uniqueId&&(r.skinwave_comments_enable="off"))}function player_delete(e){var t=null;return e.cthis.parent().parent().hasClass("dzsap-sticktobottom")&&(t=e.cthis.parent().parent()),t&&(t.prev().hasClass("dzsap-sticktobottom-placeholder")&&t.prev().remove(),t.remove()),e.cthis.remove(),!1}function sanitizeToHexColor(e){return-1===e.indexOf("#")&&(e="#"+e),e}function player_identifySource(e){e.data_source=e.cthis.attr("data-source")||""}function player_identifyTypes(e){var t=e.initOptions,r=e.cthis;"youtube"===r.attr("data-type")&&(t.type="youtube",e.audioType="youtube"),"soundcloud"===r.attr("data-type")&&(t.type="soundcloud",e.audioType="soundcloud",t.skinwave_enableSpectrum="off",r.removeClass("skin-wave-is-spectrum")),"mediafile"===r.attr("data-type")&&(t.type="audio",e.audioType="audio"),"shoutcast"===r.attr("data-type")&&(t.type="shoutcast",e.audioType="audio",t.disable_timer="on",t.skinwave_enableSpectrum="off",r.attr("data-streamtype")||(e.audioTypeSelfHosted_streamType="shoutcast"),"skin-default"===t.design_skin&&(t.disable_scrub="on")),"audio"!==e.audioType&&"normal"!==e.audioType&&""!==e.audioType||(e.audioType="selfHosted"),String(e.data_source).indexOf("https://soundcloud.com/")>-1&&(e.audioType="soundcloud")}function player_getPlayFromTime(e){e.playFrom=e.initOptions.playfrom,(0,_js_common_dzs_helpers__WEBPACK_IMPORTED_MODULE_0__.JY)(e.cthis.attr("data-playfrom"))&&(e.playFrom=e.cthis.attr("data-playfrom")),!1===isNaN(parseInt(e.playFrom,10))&&(e.playFrom=parseInt(e.playFrom,10)),"off"!==e.playFrom&&""!==e.playFrom||get_query_arg(window.location.href,"audio_time")&&(e.playFrom=sanitizeToIntFromPointTime(get_query_arg(window.location.href,"audio_time"))),e.timeModel.sampleTimeStart&&(e.playFrom<e.timeModel.sampleTimeStart&&(e.playFrom=e.timeModel.sampleTimeStart),"string"==typeof e.playFrom&&(e.playFrom=e.timeModel.sampleTimeStart))}function sanitizeToIntFromPointTime(e){if(e=String(e).replace("%3A",":"),(e=String(e).replace("#",""))&&String(e).indexOf(":")>-1){var t=/(\d.*):(\d.*)/g.exec(e);return 60*parseInt(t[1],10)+parseInt(t[2],10)}return Number(e)}function player_determineStickToBottomContainer(e){var t=e.cthis.parent();t.hasClass(_configs_constants__WEBPACK_IMPORTED_MODULE_2__.A1)&&(e.$stickToBottomContainer=t,e.isStickyPlayer=!0),(t=e.cthis.parent().parent()).hasClass(_configs_constants__WEBPACK_IMPORTED_MODULE_2__.A1)&&(e.$stickToBottomContainer=t,e.isStickyPlayer=!0)}function player_stickToBottomContainerDetermineClasses(e){e.$stickToBottomContainer&&(e.cthis.hasClass("theme-dark")&&e.$stickToBottomContainer.addClass("theme-dark"),setTimeout((function(){e.$stickToBottomContainer.addClass("inited")}),500))}function player_service_getSourceProtection(e){return new Promise((function(t,r){jQuery.ajax({type:"POST",url:e.data_source,data:{},success:function(e){t(e)},error:function(e){r(e)}})}))}function player_isGoingToSetupMediaNow(e){return"icecast"!==e.audioTypeSelfHosted_streamType&&"youtube"!==e.audioType}function player_stopOtherPlayers(e,t){var r=0;for(r=0;r<e.length;r++)e[r].get(0)&&e[r].get(0).api_pause_media&&e[r].get(0)!=t.cthis.get(0)&&(e[r].data("type_audio_stop_buffer_on_unfocus")&&"on"===e[r].data("type_audio_stop_buffer_on_unfocus")?e[r].get(0).api_destroy_for_rebuffer():e[r].get(0).api_pause_media({audioapi_setlasttime:!1}))}function player_syncPlayers_gotoItem(e,t){if(window.dzsap_settings.syncPlayers_autoplayEnabled){var r=function(){var r=e.cthis;if(e._sourcePlayer&&(r=e._sourcePlayer),window.dzsap_syncList_players[n].get(0)===r.get(0)){n=parseInt(n,10);var a=window.dzsap_syncList_index+t;if(a>=0&&a<window.dzsap_syncList_players.length){var o=window.dzsap_syncList_players[a].get(0);o&&o.api_play_media&&setTimeout((function(){o.api_play_media({called_from:"api_sync_players_prev"})}),200)}}};for(var n in window.dzsap_syncList_players)r()}}function player_syncPlayers_buildList(){window.syncPlayers_isDzsapListBuilt||(window.dzsap_syncList_players=[],window.syncPlayers_isDzsapListBuilt=!0,jQuery(".audioplayer.is-single-player,.audioplayer-tobe.is-single-player").each((function(){var e=jQuery(this);e.hasClass(_configs_constants__WEBPACK_IMPORTED_MODULE_2__.kC)||"on"!==e.attr("data-do-not-include-in-list")&&window.dzsap_syncList_players.push(e)})),clearTimeout(window.syncPlayers_buildTimeout),window.syncPlayers_buildTimeout=setTimeout((function(){window.syncPlayers_isDzsapListBuilt=!1}),500))}function convertPluginOptionsToFinalOptions(elThis,defaultOptions){var argOptions=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,searchedAttr=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"data-options",$es=arguments.length>4?arguments[4]:void 0,finalOptions=null,tempOptions={},isSetFromJson=!1;void 0===$es&&($es=jQuery);var $elThis=$es(elThis),isArgOptionsDefinedViaJs=Boolean(argOptions&&"object"===_typeof(argOptions)&&Object.keys(argOptions).length);if(isArgOptionsDefinedViaJs)tempOptions=argOptions;else{if($elThis.attr(searchedAttr))try{tempOptions=JSON.parse($elThis.attr(searchedAttr)),isSetFromJson=!0}catch(e){}if(!isSetFromJson&&void 0!==$elThis.attr(searchedAttr)&&""!=$elThis.attr("data-options")){var aux=$elThis.attr(searchedAttr);aux="var aux_opts = "+aux,eval(aux),tempOptions=Object.assign({},argOptions)}}return finalOptions=Object.assign(defaultOptions,tempOptions),finalOptions}function generateFakeArrayForPcm(){for(var e=[],t=0;t<256;t++)e[t]=100*Math.random();return e}},324:(e,t,r)=>{r.d(t,{z2:()=>o});var n=r(627);function a(e){if(!window.dzsap_isTextFieldFocused){var t=jQuery,r=t.extend({},function(){var e={play_trigger_step_back:"off",step_back_amount:"5",step_back:"37",step_forward:"39",sync_players_goto_next:"",sync_players_goto_prev:"",pause_play:"32",show_tooltips:"off"},t=jQuery(n.w0);return t.length&&(window.dzsap_keyboard_controls=JSON.parse(t.html())),window.dzsap_keyboard_controls&&(e=jQuery.extend(e,window.dzsap_keyboard_controls)),e.step_back_amount=Number(e.step_back_amount),e}());if(dzsap_currplayer_focused&&dzsap_currplayer_focused.api_pause_media){if(a(r.pause_play)&&!t(dzsap_currplayer_focused).hasClass("comments-writer-active")&&(t(dzsap_currplayer_focused).hasClass("is-playing")?dzsap_currplayer_focused.api_pause_media():dzsap_currplayer_focused.api_play_media(),window.dzsap_mouseover))return e.preventDefault(),!1;a(r.step_back)&&dzsap_currplayer_focused.api_step_back(r.step_back_amount),a(r.step_forward)&&dzsap_currplayer_focused.api_step_forward(r.step_back_amount),a(r.sync_players_goto_next)&&dzsap_currplayer_focused.api_sync_players_goto_next(),a(r.sync_players_goto_prev)&&dzsap_currplayer_focused.api_sync_players_goto_prev()}}function a(t){var r=!1;return t.indexOf("ctrl+")>-1?e.ctrlKey&&(t=t.replace("ctrl+",""),e.keyCode===Number(t)&&(r=!0)):e.keyCode===Number(t)&&(r=!0),r}}var o=function(){var e=jQuery;window.dzsap_isTextFieldFocused=!1,e(document).off("keydown.dzsapkeyup"),e(document).on("keydown.dzsapkeyup",a),e(document).on("focus blur","textarea,input",(function(e){"focusin"!=e.type&&"focus"!=e.type||(window.dzsap_isTextFieldFocused=!0),"focusout"!=e.type&&"blur"!=e.type||(window.dzsap_isTextFieldFocused=!1)})),e(document).on("keydown blur",".zoomsounds-search-field",(function(t){var r=e(t.currentTarget);setTimeout((function(){if(r){var t=e(".audiogallery").eq(0);r.attr("data-target")&&(t=e(r.attr("data-target"))),t.get(0)&&t.get(0).api_filter&&t.get(0).api_filter("title",r.val())}}),100)}))}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(void 0,o=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,"string");if("object"!==e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(a.key),"symbol"===e(o)?o:String(o)),a)}var o}var r=function(){function r(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),"string"==typeof e?(this.$el=document.querySelector(e),this.$els=document.querySelectorAll(e)):(this.$el=e,n(e)&&(this.$el=e[0]),this.$els=[],n(e)?e.forEach((function(e){t.$els.push(e)})):this.$els.push(this.$el))}var o,i;return o=r,i=[{key:"eq",value:function(e){return this.$els.length<e-1?a(this.$els[this.$els.length-1]):a(this.$els[e])}},{key:"length",value:function(){return this.$els.length}},{key:"hide",value:function(){this.$els.forEach((function(e){e.style.display="none"}))}},{key:"clone",value:function(){var e=this.$el.cloneNode(!0);return this.$el.parentNode.appendChild(e),e}},{key:"show",value:function(){this.$els.forEach((function(e){e.style.display=""}))}},{key:"addClass",value:function(e){return this.$els.forEach((function(t){t&&t.classList.add(e)})),this}},{key:"removeClass",value:function(e){return this.$els.forEach((function(t){e.split(" ").forEach((function(e){t&&t.classList.remove(e)}))})),this}},{key:"prepend",value:function(e){if("string"==typeof e){var t=document.createElement("div");this.$els.forEach((function(r){try{r.appendChild(t),r.insertBefore(t,r.firstChild),t.outerHTML=e}catch(e){console.error("something went wrong .. ",e,this,r)}}))}}},{key:"get",value:function(e){if(0===e)return this.$el}},{key:"each",value:function(e){this.$els.forEach((function(t){e.bind(t)(a(t))}))}},{key:"text",value:function(){return 0===arguments.length?this.$el.textContent:(this.$el.textContent=arguments[0],this)}},{key:"find",value:function(e){return this.$el?new r(this.$el.querySelectorAll(e)):new r(this.$el)}},{key:"append",value:function(e){if("string"==typeof e){var t=document.createElement("div");t.innerHTML=e,this.$els.forEach((function(e){try{e.appendChild(t)}catch(t){console.error("something went wrong .. ",t,this,e)}}))}}},{key:"trigger",value:function(e){var t=new CustomEvent(e,{bubbles:!0,detail:"event"});this.$el.dispatchEvent(t)}},{key:"on",value:function(e,t,r){var n="function"==typeof t,o=n?t:r;return this.$el&&this.$el.addEventListener(e,(function(e){if(n)o.call(this.$el,e);else for(var r=e.target;r&&r!==this;)r.matches(t)&&o.call(r,e),r=r.parentNode})),a(this)}},{key:"hasClass",value:function(e){return this.$el?this.$el.classList.contains(e):a(null)}},{key:"html",value:function(){var e=arguments;return 0===e.length?this.$el.innerHTML:1===e.length?(this.$el&&(this.$el.innerHTML=e[0]),this):void 0}},{key:"getLast",value:function(){return this.$els.length?a(this.$els[this.$els.length-1]):null}},{key:"val",value:function(){var e=arguments;return 0===e.length?this.$el.value?this.$el.value:"":(1===e.length&&this.$els.forEach((function(t){t&&(console.log("arguments - ",e),t.value=e[0])})),this)}},{key:"attr",value:function(){var e=arguments;return 0===e.length&&console.log("no attrArgs.. "),1===e.length?this.$el.getAttribute(e[0]):(2===e.length&&this.$els.forEach((function(t){t&&t.setAttribute(e[0],e[1])})),a(this.$el))}},{key:"css",value:function(){var e=this,t=arguments;return 0===t.length&&console.log("no attrArgs.. "),1===t.length?this.$el.getAttribute(t[0]):(2===t.length&&(this.$els.forEach((function(r){r&&(console.log("toCamel case - ",e._toCamelCase(t[0]),t[1]),r.style[e._toCamelCase(t[0])]=t[1])})),console.log(this.$el)),a(this.$el))}},{key:"_toCamelCase",value:function(e){return e.replace(/-./g,(function(e){return e[1].toUpperCase()}))}},{key:"remove",value:function(){this.$el.remove()}},{key:"parent",value:function(){return this.$el?a(this.$el.parentNode):a(null)}},{key:"prev",value:function(){return a(this.$el.previousElementSibling)}},{key:"getEl",value:function(){return this.$el}},{key:"children",value:function(){return a(this.$el.childNodes)}},{key:"serialize",value:function(){var t,r=this.$el,n="";if("object"==e(r)&&"FORM"===r.nodeName)for(var a=0;a<=r.elements.length-1;a++)if((t=r.elements[a]).name&&"file"!==t.type&&"reset"!==t.type)if("select-multiple"===t.type)for(var o=0;o<=r.elements[a].options.length-1;o++)t.options[o].selected&&(n+="&"+t.name+"="+encodeURIComponent(t.options[o].value).replace(/%20/g,"+"));else"submit"!==t.type&&"button"!==t.type&&("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&(n+="&"+t.name+"="+encodeURIComponent(t.value).replace(/%20/g,"+"));return n.substr(1)}}],i&&t(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),r}();function n(t){var r=Object.prototype.toString.call(t);return"object"===e(t)&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(r)&&"number"==typeof t.length&&(0===t.length||"object"===e(t[0])&&t[0].nodeType>0)}var a=function(e){return new r(e)};window.es_document_ready=function(e){new Promise((function(e,t){"interactive"!==document.readyState&&"complete"!==document.readyState||e("interactive"),document.addEventListener("DOMContentLoaded",(function(){e("DOMContentLoaded")}),!1),setTimeout((function(){e("timeout")}),5e3)})).then((function(t){e(t)})).catch((function(t){e(t)}))},window.es_ajax=function(e){var t={method:"GET",url:"/",data:{},success:null};e&&(t=Object.assign(t,e));var r=new XMLHttpRequest;r.open(t.method,t.url);var n=new FormData;for(var a in t.data)n.append(a,t.data[a]);r.send(n),r.addEventListener("load",(function(e){200!==r.status?t.error&&t.error(e,this):t.success&&t.success(e,this)}))},window.get_query_arg=function(e,t){if(e.indexOf(t+"=")>-1){var r=new RegExp("[?&]"+t+"(.+?)(?=&|$)").exec(e);if(null!=r)return r[1]?r[1].replace(/=/g,""):""}},window.add_query_arg=function(e,t,r){var n=e,a=(t=encodeURIComponent(t))+"="+(r=encodeURIComponent(r)),o=new RegExp("(&|\\?)"+t+"=[^&]*"),i="";if((n=n.replace(o,"$1"+a)).indexOf(t+"=")>-1||(i=n.indexOf("?")>-1?"&"+a:"?"+a,n+=i),"NaN"===r){var s=new RegExp("[?|&]"+t+"="+r);n=n.replace(s,"")}return n};var o=__webpack_require__(627),i=__webpack_require__(616);function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(e,t,r,a){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new C(a||[]);return n(i,"_invoke",{value:x(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function _(){}function h(){}function y(){}var m={};u(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==t&&r.call(g,o)&&(m=g);var w=y.prototype=_.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function a(n,o,i,s){var c=p(e[n],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==l(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,s)}))}s(c.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=O(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=p(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new k(d(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),z(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;z(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)}))}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===l(a)?a:String(a)),n)}var a}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initOptions={},this.dataSource="",this.$waveGenerator_=t,this.$waveGenerator=a(t),this.$wavedataField=null,this.$status=null,this.init()}var t,r;return t=e,(r=[{key:"init",value:function(){var e,t=Object.assign({source:"",selectorWaveData:""},{});e=(0,i.L5)(this.$waveGenerator_,t,null,"data-options",a);var r=this;r.initOptions=e,r.$status=r.$waveGenerator.find(".dzsap-wave-generator--status"),r.initOptions.source&&(r.dataSource=r.initOptions.source),r.initOptions.selectorWaveData&&(r.$wavedataField=a(r.initOptions.selectorWaveData)),r.$status.html("generating waveforms"),r.dataSource&&f(r.$waveGenerator.find(".dzsap-wave-generator--wave").get(0),r.dataSource).then((function(e){r.$status.html("");try{e.pcm_data&&r.$wavedataField&&(r.$wavedataField.val(e.pcm_data),"on"===dzsap_settings.dzsap_wave_generate_auto&&"on"===function(e,t){if(e.indexOf(t+"=")>-1){var r=new RegExp("[?&]"+t+"=.+").exec(e);if(null!=r){var n=r[0];if(n.indexOf("&")>-1){var a=n.split("&");n=a[1]}return n.split("=")[1]}}}(window.location.href,"dzsap_wave_generate_auto")&&window.dzsap_admin_waveforms_submitPcmData(document.querySelector(".track-waveform-meta")))}catch(e){console.log(e)}}))}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.es_document_ready((function(){a(".dzsap-wave-generator.auto-init").each((function(e){new p(e.get(0))}))})),window.dzsap_generating_pcm=!1;var f=function(){var e=u(s().mark((function e(t,r,n){var c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object.assign({called_from:"default",preferBackendPeaks:!0,wavesurfer_pcm_length:200},n),e.abrupt("return",new Promise((function(e,n){function l(){return(l=u(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,s){if(window.dzsap_generating_pcm)return setTimeout((function(){n(e,s)}),1e3),!1;window.dzsap_generating_pcm=!0;var u="wavesurfer_"+Math.ceil(1e4*Math.random());t||(t=document.body),a(t).append('<div id="'.concat(u,'"></div>'));var l=document.createElement("canvas").getContext("2d").createLinearGradient(0,64,0,200);l.addColorStop(.5,"rgb(107,95,95)"),l.addColorStop(.5,"rgb(119,115,115)");var d=WaveSurfer.create({container:"#"+u,normalize:!0,pixelRatio:1,waveColor:l,progressColor:"hsla(200, 100%, 30%, 0.5)",cursorColor:"#fff",barWidth:2});d.on("loading",(function(e){t.parentNode.querySelector(".dzsap-wave-generator--status").innerHTML=e+"%"}));try{d.load(r)}catch(e){console.log("[wavesurfer] WAVE SURFER NO LOAD")}d.on("ready",(function(){var t=[],r="";if(d&&d.exportPCM){!0!==c.preferBackendPeaks&&(t=d.exportPCM(c.wavesurfer_pcm_length,100,!0));var n=!1;console.log("pcmDataString - ",r);try{for(var a in t=JSON.parse(r))if(null!==t[a]&&0!==t[a]&&"0"!==t[a]){n=!0;break}}catch(e){n=!1}for(var o in n||(t=d.backend.getPeaks(c.wavesurfer_pcm_length,0,c.wavesurfer_pcm_length)),t)null!==t[o]&&0!==t[o]&&"0"!==t[o]&&(t[o]=Math.abs(Number(Number(t[o]).toFixed(2))))}else t=(0,i.C6)();r=JSON.stringify(t),e({resolve_type:"success",pcm_data:r})})),d.on("error",(function(e,t){console.log("err - ",e),s({error_type:"wavesurfer_error",error_message:e})})),setTimeout((function(){s({error_type:"wavesurfer_timeout",error_message:"timeout"})}),o.kp)},e.abrupt("return",new Promise((function(e,t){n(e,t)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return l.apply(this,arguments)})().then((function(t){console.log("%c [dzsap] [wave] success while generating pcm - ",o.IY,t),e(t)})).catch((function(t){for(var r=[],n=0;n<200;n++)r[n]=Math.abs(Number(Math.random()).toFixed(2));r=JSON.stringify(r),console.log("%c [dzsap] [wave] error while generating pcm - ",o.IY,t,t.error_message),e(r)}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()})()})();
//# sourceMappingURL=dzsap-wave-generator.js.map