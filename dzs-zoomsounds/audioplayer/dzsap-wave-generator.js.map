{"version":3,"file":"dzsap-wave-generator.js","mappings":"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","sources":["webpack://dzsap--compile-files/../source/audioplayer/configs/_constants.js","webpack://dzsap--compile-files/../source/audioplayer/js_common/_dzs_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_keyboard.js","webpack://dzsap--compile-files/webpack/bootstrap","webpack://dzsap--compile-files/webpack/runtime/define property getters","webpack://dzsap--compile-files/webpack/runtime/hasOwnProperty shorthand","webpack://dzsap--compile-files/../source/audioplayer/js_common/_esjquery.js","webpack://dzsap--compile-files/../source/audioplayer/dzsap-wave-generator.sourcepack.js"],"sourcesContent":["export const DEBUG_STYLE_PLAY_FUNCTIONS = 'background-color: #daffda; color: #222222;';\nexport const WAVESURFER_MAX_TIMEOUT = 20000;\n\nexport const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1': 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2': 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3': 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR': 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP: 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT,\n  DEBUG_STYLE_PLAY_FUNCTIONS,\n  URL_JQUERY: 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n\nexport const DZSAP_PLAYER_CLASS_FOOTER_PLAYER = 'dzsap_footer';\nexport const DZSAP_PLAYER_CLASS_LOADED = 'dzsap-loaded';\nexport const DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW = 'audioplayer-loaded';\nexport const DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom';\nexport const DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom-placeholder';\nexport const DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED = 'fake';\nexport const DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS = 'last';\nexport const DZSAP_CLASS_NAME_AJAX_LIKE = 'btn-like';\n\nexport const DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS = '#dzsap-main-settings';\nexport const DZSAP_SCRIPT_SELECTOR_KEYBOARD = '#dzsap-keyboard-controls';\nexport const DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT = 500;\nexport const DZSAP_AJAX_ACTION_LIKE = 'dzsap_submit_like';\nexport const DZSAP_VIEW_SONG_CHANGER_CLASS = 'audioplayer-song-changer';\n","import {ConstantsDzsAp} from \"../configs/_constants\";\n\nexport const decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n\n      return null;\n    }\n  }\n\n  return fout;\n}\nexport async function dzsap_jQueryInit(callback, reject) {\n\n  return new Promise((resolve, reject) => {\n\n    if (window.jQuery) {\n      resolve('jQuery loaded');\n    } else {\n      const script = document.createElement('script');\n      script.onload = function () {\n        if (window.jQuery) {\n          resolve('jQuery loaded');\n        } else {\n          reject('error loading');\n        }\n      };\n      script.src = ConstantsDzsAp.URL_JQUERY;\n\n      document.head.appendChild(script);\n    }\n\n    setTimeout(() => {\n      reject('error loading');\n    }, 15000);\n  })\n}\n/**\n *\n * @param {string} arg\n * @return {string}\n */\nexport function string_curateClassName(arg){\n\n  arg = arg.replace('feed-dzsap', '');\n  arg = arg.replace('feed-dzsap--extra-html', '');\n  return arg;\n}\n\n\nexport function simpleStringify (object){\n  if (object && typeof object === 'object') {\n    object = copyWithoutCircularReferences([object], object);\n  }\n  return JSON.stringify(object);\n\n  function copyWithoutCircularReferences(references, object) {\n    const cleanObject = {};\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      if (value && typeof value === 'object') {\n        if (references.indexOf(value) < 0) {\n          references.push(value);\n          cleanObject[key] = copyWithoutCircularReferences(references, value);\n          references.pop();\n        } else {\n          cleanObject[key] = '###_Circular_###';\n        }\n      } else if (typeof value !== 'function') {\n        cleanObject[key] = value;\n      }\n    });\n    return cleanObject;\n  }\n}\n\nexport const loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n\nexport const getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  const result = string_addTrailingSlash(baseUrl_arr.join('/'));\n  window[baseUrlVar] = result+'/';\n  return result;\n}\n\nfunction string_addTrailingSlash(url){\n  var lastChar = url.substr(-1); // Selects the last character\n  if (lastChar != '/') {         // If the last character is not a slash\n    url = url + '/';            // Append a slash to it.\n  }\n  return url;\n}\nexport const sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n\nexport const setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexport const isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexport const isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexport function getRelativeX (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","import {isValid} from \"../js_common/_dzs_helpers\";\nimport {dzsap_keyboardSetup} from \"./player/_player_keyboard\";\nimport {\n  DZSAP_PLAYER_CLASS_FOOTER_PLAYER,\n  DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM,\n  DZSAP_VIEW_SONG_CHANGER_CLASS\n} from \"../configs/_constants\";\n\n\nexport function formatTime(arg) {\n\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n\n    if (String(purl).indexOf(key + '=') > -1) {\n\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n\n        var splitter = splitterS.split('=');\n\n\n        return splitter[1];\n\n      }\n\n    }\n\n  } else {\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n\n  return is_ios() || is_android();\n}\n\nexport function is_ios() {\n\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n\n  var oCanvas = document.createElement(\"canvas\");\n  return !!oCanvas.getContext(\"2d\");\n\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  var ua = navigator.userAgent.toLowerCase();\n\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n\n\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  let structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param hex\n * @param {number|null} targetAlpha 0-1\n * @returns {string}\n */\nexport function hexToRgb(hex, targetAlpha = null) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (targetAlpha !== null) {\n      alpha = targetAlpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n\n  Math.easeIn = function (t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  };\n\n\n  /**\n   *\n   * @param {string} argfind\n   * @param {string} arg\n   * @returns {string}\n   */\n  const checkIfHasClass = (argfind, arg) => {\n\n    if (!argfind) {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (auxarr && auxarr[1]) {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    return argfind;\n  }\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this)\n\n\n    argfind = checkIfHasClass(argfind, arg);\n\n\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    }\n    return false;\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this)\n\n    argfind = checkIfHasClass(argfind, arg);\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    }\n    return false;\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window['dzsap_functions'] = {};\n  window['dzsap_functions']['send_total_time'] = function (argtime, argcthis) {\n\n\n    if (argtime && argtime !== Infinity) {\n      const data = {\n        action: 'dzsap_send_total_time_for_track',\n        id_track: argcthis.attr('data-playerid'),\n        postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    const locationHref = window.location.href;\n\n\n    const auxa = locationHref.split('?');\n\n    let cid = '';\n    let cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    if (argthis) {\n\n      const $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n\n\n  }\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function assignPcmData(selfClass) {\n\n  selfClass.pcmSource = string_jsonConvertToArray(selfClass.cthis.attr('data-pcm'));\n  if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n    var pcmSourceLen = selfClass.pcmSource.length;\n    var desiredSize = 256;\n\n    for (var i = 0; i < pcmSourceLen; i++) {\n      if (i > desiredSize) {\n        continue;\n      }\n      selfClass.pcmSource[i] = selfClass.pcmSource[i * pcmSourceLen / desiredSize] * desiredSize;\n    }\n    selfClass.pcmSource.splice(desiredSize, pcmSourceLen - desiredSize); // removes 3rd element of array\n  }\n}\n\nexport function string_jsonConvertToArray(ar_str) {\n  let waves = [];\n  if (typeof (ar_str) == 'object') {\n    waves = ar_str;\n  } else {\n    try {\n      waves = JSON.parse(ar_str);\n    } catch (err) {\n\n    }\n  }\n\n  return waves;\n}\n\n/**\n * should be called only once on init\n */\nexport function dzsap_singleton_ready_calls() {\n\n  window.dzsap_singleton_ready_calls_is_called = true;\n\n\n  let $feed_dzsapMainSettings = null;\n  const $feed_dzsapMainSettingsAll = document.querySelectorAll('.dzsap-main-settings');\n  if ($feed_dzsapMainSettingsAll.length) {\n    $feed_dzsapMainSettings = $feed_dzsapMainSettingsAll[$feed_dzsapMainSettingsAll.length - 1];\n  }\n  if ($feed_dzsapMainSettings) {\n    window.dzsap_settings = JSON.parse($feed_dzsapMainSettings.innerHTML);\n    window.ajaxurl = window.dzsap_settings.ajax_url;\n    window.dzsap_curr_user = window.dzsap_settings.dzsap_curr_user;\n  }\n\n\n  jQuery('body').append('<style class=\"dzsap--style\"></style>');\n\n\n  window.dzsap__style = jQuery('.dzsap--style');\n\n\n  jQuery('audio.zoomsounds-from-audio').each(function () {\n    var _t = jQuery(this);\n    _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n    _t.remove();\n  })\n\n  jQuery(document).on('focus.dzsap', 'input', function () {\n    window.dzsap_currplayer_focused = null;\n  })\n\n  registerTextWidth(jQuery);\n\n  dzsap_keyboardSetup();\n}\n\nexport function jQueryAuxBindings($) {\n\n\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    const $t = $(this);\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass(DZSAP_VIEW_SONG_CHANGER_CLASS)) {\n      const _c = $($t.attr('data-fakeplayer')).eq(0);\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed ' + DZSAP_VIEW_SONG_CHANGER_CLASS\n        });\n      }\n\n      return false;\n    }\n\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.' + DZSAP_VIEW_SONG_CHANGER_CLASS, handleClick_onGlobalZoomSoundsButton)\n\n\n}\n\n\n/**\n * for .zoomsounds-wrapper-bg-center\n * @param selfClass\n */\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n\n  new Promise((resolve, reject) => {\n\n    let checkInterval = 0;\n\n    function checkIfVarExists() {\n      if (verifyVar) {\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n    setTimeout(() => {\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n  })\n}\n\n\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n\n\n  if (o.scrubbar_type === 'wave') {\n    if (o.is_inited_from_playlist) {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (o.scrubbar_type_wave__has_reveal_animation === 'on') {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (selfClass.isPcmRequiredToGenerate) {\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n\n    if (typeof selfClass.uniqueId === 'string') {\n      selfClass.uniqueId = selfClass.uniqueId.replace('ap', '');\n    }\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n\n    if (selfClass.uniqueId === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\n\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n\n    if (!cthis.attr('data-streamtype')) {\n\n      selfClass.audioTypeSelfHosted_streamType = 'shoutcast';\n    }\n\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\n\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = sanitizeToIntFromPointTime(get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\nexport function sanitizeToIntFromPointTime(arg) {\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\n\n/**\n * called in player init()\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  let $conTest = selfClass.cthis.parent();\n\n\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n\n  }\n  $conTest = selfClass.cthis.parent().parent();\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n  }\n}\n\n\n/**\n *\n * todo: maybe move\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n\n\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  let i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_syncPlayers_gotoItem(selfClass, targetIncrement) {\n  if (window.dzsap_settings.syncPlayers_autoplayEnabled) {\n\n    for (let keySyncPlayer in window.dzsap_syncList_players) {\n      let $playerInSyncList = selfClass.cthis;\n\n      if (selfClass._sourcePlayer) {\n        $playerInSyncList = selfClass._sourcePlayer;\n      }\n\n\n      if (window.dzsap_syncList_players[keySyncPlayer].get(0) === $playerInSyncList.get(0)) {\n\n        keySyncPlayer = parseInt(keySyncPlayer, 10);\n        let targetIndex = window.dzsap_syncList_index + targetIncrement;\n        if (targetIndex >= 0 && targetIndex < window.dzsap_syncList_players.length) {\n          const $currentSyncPlayer_ = window.dzsap_syncList_players[targetIndex].get(0);\n\n\n          if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n            setTimeout(function () {\n              $currentSyncPlayer_.api_play_media({\n                'called_from': 'api_sync_players_prev'\n              });\n            }, 200);\n\n          }\n        }\n      }\n    }\n  }\n\n}\n\nexport function player_syncPlayers_buildList() {\n\n  if (!window.syncPlayers_isDzsapListBuilt) {\n\n    window.dzsap_syncList_players = [];\n\n    window.syncPlayers_isDzsapListBuilt = true;\n\n    jQuery('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n      const _t23 = jQuery(this);\n\n\n      if (_t23.hasClass(DZSAP_PLAYER_CLASS_FOOTER_PLAYER)) {\n        return;\n      }\n\n\n      if (_t23.attr('data-do-not-include-in-list') !== 'on') {\n        window.dzsap_syncList_players.push(_t23);\n      }\n    })\n\n\n    clearTimeout(window.syncPlayers_buildTimeout);\n\n    window.syncPlayers_buildTimeout = setTimeout(function () {\n      window.syncPlayers_isDzsapListBuilt = false;\n    }, 500);\n\n  }\n\n}\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var isSetFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n\n\n  var $elThis = $es(elThis);\n\n  const isArgOptionsDefinedViaJs = Boolean(argOptions && typeof argOptions === 'object' && Object.keys(argOptions).length);\n\n\n  if (isArgOptionsDefinedViaJs) {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        isSetFromJson = true;\n      } catch (err) {\n\n      }\n    }\n    if (!isSetFromJson) {\n      if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n        let aux = $elThis.attr(searchedAttr);\n        aux = 'var aux_opts = ' + aux;\n        eval(aux);\n        tempOptions = Object.assign({}, argOptions);\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (let it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n","import {DZSAP_SCRIPT_SELECTOR_KEYBOARD} from \"../../configs/_constants\";\n\nexport const dzsap_generate_keyboard_controls = function () {\n  let keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  const $keyboardControlsInfo = jQuery(DZSAP_SCRIPT_SELECTOR_KEYBOARD);\n  if ($keyboardControlsInfo.length) {\n    window.dzsap_keyboard_controls = JSON.parse($keyboardControlsInfo.html());\n  }\n\n  if (window.dzsap_keyboard_controls) {\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n\n  return keyboard_controls;\n};\n\n\nexport function handle_keypresses(e) {\n\n  if (window.dzsap_isTextFieldFocused) {\n    return;\n  }\n\n\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  const keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if (!$(dzsap_currplayer_focused).hasClass('comments-writer-active')) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      dzsap_currplayer_focused.api_sync_players_goto_next();\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      dzsap_currplayer_focused.api_sync_players_goto_prev();\n    }\n\n\n  }\n}\n\n\n/**\n * called in singleton\n */\nexport const dzsap_keyboardSetup = () => {\n\n  let $ = jQuery;\n\n  window.dzsap_isTextFieldFocused = false;\n\n  $(document).off('keydown.dzsapkeyup');\n  $(document).on('keydown.dzsapkeyup', handle_keypresses);\n\n\n  $(document).on('focus blur', 'textarea,input', function (e) {\n\n    if (e.type == 'focusin' || e.type == 'focus') {\n\n      window.dzsap_isTextFieldFocused = true;\n    }\n    if (e.type == 'focusout' || e.type == 'blur') {\n\n      window.dzsap_isTextFieldFocused = false;\n    }\n  });\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n    const _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        let $audioGallery = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          $audioGallery = $(_t.attr('data-target'));\n        }\n        if ($audioGallery.get(0) && $audioGallery.get(0).api_filter) {\n          $audioGallery.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * v1.0.0\n * @type {esJquery}\n */\nlet esJquery = class {\n\n  /**\n   *\n   * @param {string|esJquery} selector\n   */\n  constructor(selector) {\n\n    if (typeof selector == 'string') {\n\n      this.$el = document.querySelector(selector);\n      this.$els = document.querySelectorAll(selector);\n    } else {\n\n      this.$el = selector;\n\n      if (isNodeList(selector)) {\n        this.$el = selector[0];\n      }\n      this.$els = [];\n\n      if (isNodeList(selector)) {\n\n        selector.forEach((_el) => {\n\n          this.$els.push(_el);\n        })\n      } else {\n\n        this.$els.push(this.$el);\n      }\n\n\n    }\n  }\n\n  /**\n   *\n   * @param {number} indexNr\n   * @returns {esJquery}\n   */\n  eq(indexNr) {\n\n    if (this.$els.length < indexNr - 1) {\n      return $es(this.$els[this.$els.length - 1]);\n    }\n    return $es(this.$els[indexNr]);\n\n  }\n\n  length() {\n\n    return this.$els.length;\n\n  }\n\n  hide() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = 'none';\n    });\n  }\n\n  clone() {\n    // -- @only works on first element\n    const cln = this.$el.cloneNode(true);\n    this.$el.parentNode.appendChild(cln)\n    return cln;\n  }\n\n  show() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = '';\n    });\n  }\n\n  /**\n   *\n   * @param {string} arg\n   * @return {esJquery}\n   */\n  addClass(arg) {\n    this.$els.forEach(function (el3) {\n      if (el3) {\n        el3.classList.add(arg);\n      }\n    });\n    return this;\n  }\n\n  /**\n   *\n   * @param {string} arg\n   * @return {esJquery}\n   */\n  removeClass(arg) {\n\n\n    this.$els.forEach(function (el3) {\n      const classesToRemove = arg.split(' ');\n      classesToRemove.forEach((classToRemove) => {\n\n        if (el3) {\n          el3.classList.remove(classToRemove);\n        }\n      })\n    });\n    return this;\n  }\n\n  /**\n   *\n   * @param {string} html\n   * @return {esJquery}\n   */\n  prepend(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n\n\n      this.$els.forEach(function (el) {\n        try {\n\n          el.appendChild(_tempKid);\n          el.insertBefore(_tempKid, el.firstChild);\n          _tempKid.outerHTML = html;\n        } catch (err) {\n          console.error('something went wrong .. ', err, this, el);\n        }\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {number} index\n   * @returns {Element}\n   */\n  get(index) {\n    if (index === 0) {\n      return this.$el;\n    }\n  }\n\n  /**\n   *\n   * @param {function} callback\n   */\n  each(callback) {\n    this.$els.forEach((el) => {\n        callback.bind(el)($es(el));\n      }\n    )\n  }\n\n  text() {\n    if (arguments.length === 0) {\n\n      return this.$el.textContent;\n    } else {\n\n      this.$el.textContent = arguments[0];\n\n      return this;\n    }\n  }\n\n  /**\n   *\n   * @param {string} selector\n   * @return {esJquery}\n   */\n  find(selector) {\n\n    if (this.$el) {\n      return new esJquery(this.$el.querySelectorAll(selector));\n    }\n    return new esJquery(this.$el);\n  }\n\n  /**\n   *\n   * @param {string} html\n   * @return {esJquery}\n   */\n  append(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n      _tempKid.innerHTML = html;\n\n\n      this.$els.forEach(function (el) {\n        try {\n          el.appendChild(_tempKid);\n        } catch (err) {\n          console.error('something went wrong .. ', err, this, el);\n        }\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {string} actionType\n   */\n  trigger(actionType) {\n\n    var event = new CustomEvent(actionType, {\n      bubbles: true, detail: 'event'\n    });\n\n    this.$el.dispatchEvent(event);\n  }\n\n  /**\n   *\n   * @param {string} eventName\n   * @param {string|function} sel\n   * @param {string|function} handler\n   * @return {esJquery}\n   */\n  on(eventName, sel, handler) {\n    const isSelTheHandler = typeof sel === 'function';\n    const theHandler = isSelTheHandler ? sel : handler;\n\n\n    if (this.$el) {\n\n      this.$el.addEventListener(eventName, function (event) {\n\n        if (isSelTheHandler) {\n          theHandler.call(this.$el, event);\n          return;\n        }\n        let t = event.target;\n        while (t && t !== this) {\n          if (t.matches(sel)) {\n            theHandler.call(t, event);\n          }\n          t = t.parentNode;\n        }\n      });\n    }\n    return $es(this);\n  }\n\n  /**\n   *\n   * @param {string} arg\n   * @return {esJquery}\n   */\n  hasClass(arg) {\n    if (this.$el) {\n\n      return this.$el.classList.contains(arg);\n    }\n    return $es(null);\n  }\n\n  html() {\n\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      return this.$el.innerHTML;\n    }\n    if (attrArgs.length === 1) {\n\n      if (this.$el) {\n        this.$el.innerHTML = attrArgs[0];\n      }\n\n      return this;\n    }\n  }\n\n  getLast() {\n\n    if (this.$els.length) {\n      return $es(this.$els[this.$els.length - 1]);\n    }\n    return null;\n  }\n\n  val() {\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      return this.$el.value ? this.$el.value : '';\n    }\n    if (attrArgs.length === 1) {\n\n      this.$els.forEach(function (el) {\n        if (el) {\n          console.log('arguments - ', attrArgs);\n          el.value = attrArgs[0];\n        }\n      });\n    }\n    return this;\n\n\n  }\n\n  attr() {\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      console.log('no attrArgs.. ');\n    }\n    if (attrArgs.length === 1) {\n      return this.$el.getAttribute(attrArgs[0]);\n    }\n    if (attrArgs.length === 2) {\n      this.$els.forEach(function (el) {\n        if (el) {\n          el.setAttribute(attrArgs[0], attrArgs[1]);\n        }\n      });\n    }\n\n    return $es(this.$el);\n\n\n  }\n\n  css() {\n    const self = this;\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      console.log('no attrArgs.. ');\n    }\n    if (attrArgs.length === 1) {\n      return this.$el.getAttribute(attrArgs[0]);\n    }\n    if (attrArgs.length === 2) {\n\n      this.$els.forEach(function (el) {\n        if (el) {\n          console.log('toCamel case - ', self._toCamelCase(attrArgs[0]), attrArgs[1]);\n          el.style[self._toCamelCase(attrArgs[0])] = attrArgs[1];\n        }\n      })\n\n      console.log(this.$el);\n\n    }\n\n    return $es(this.$el);\n\n\n  }\n\n  _toCamelCase(s) {\n    return s.replace(/-./g, x => x[1].toUpperCase())\n  }\n\n  remove() {\n    this.$el.remove();\n  }\n\n  parent() {\n\n    if (this.$el) {\n\n      return $es(this.$el.parentNode);\n    }\n    return $es(null);\n  }\n\n  prev() {\n\n    return $es(this.$el.previousElementSibling);\n  }\n\n  /**\n   *\n   * @returns {Element}\n   */\n  getEl() {\n\n    return this.$el;\n  }\n\n  children() {\n    return $es(this.$el.childNodes);\n  }\n\n  serialize() {\n    var form = this.$el;\n    var field, query = '';\n    if (typeof form == 'object' && form.nodeName === \"FORM\") {\n      for (let i = 0; i <= form.elements.length - 1; i++) {\n        field = form.elements[i];\n        if (field.name && field.type !== 'file' && field.type !== 'reset') {\n          if (field.type === 'select-multiple') {\n            for (let j = 0; j <= form.elements[i].options.length - 1; j++) {\n              if (field.options[j].selected) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.options[j].value).replace(/%20/g, '+');\n              }\n            }\n          } else {\n            if ((field.type !== 'submit' && field.type !== 'button')) {\n              if ((field.type !== 'checkbox' && field.type !== 'radio') || field.checked) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.value).replace(/%20/g, '+');\n              }\n            }\n          }\n        }\n      }\n    }\n    return query.substr(1);\n  }\n};\n\nfunction isNodeList(nodes) {\n  var stringRepr = Object.prototype.toString.call(nodes);\n\n  return typeof nodes === 'object' &&\n    /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(stringRepr) &&\n    (typeof nodes.length === 'number') &&\n    (nodes.length === 0 || (typeof nodes[0] === \"object\" && nodes[0].nodeType > 0));\n}\n\n/**\n * jQuery, but in es6\n * @returns {esJquery} esjQuery\n * @param arg\n */\nexport const $es = (arg) => {\n\n\n  return new esJquery(arg)\n};\n\n\nexport function documentReady(callback) {\n  new Promise((resolutionFunc, rejectionFunc) => {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      resolutionFunc('interactive')\n    }\n    document.addEventListener('DOMContentLoaded', () => {\n      resolutionFunc('DOMContentLoaded')\n    }, false);\n    setTimeout(() => {\n      resolutionFunc('timeout')\n    }, 5000);\n  }).then(resolution => {\n    callback(resolution);\n  }).catch(err => {\n    callback(err)\n  });\n}\n\n\nwindow.es_document_ready = documentReady;\n\n/** call ajax function\n * {\n    'type':'GET',\n    'url':'/',\n    'data':{},\n    'success':null\n  }\n */\nwindow.es_ajax = function (pargs) {\n  var margs = {\n    'method': 'GET',\n    'url': '/',\n    'data': {},\n    'success': null\n  };\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  let xhr = new XMLHttpRequest();\n\n  xhr.open(margs.method, margs.url);\n  var form_data = new FormData();\n\n  for (var key in margs.data) {\n    form_data.append(key, margs.data[key]);\n  }\n\n  xhr.send(form_data);\n  xhr.addEventListener('load', handle_loaded);\n\n  function handle_loaded(e) {\n\n    if (xhr.status !== 200) {\n\n      if (margs.error) {\n        margs.error(e, this);\n      }\n    } else { // show the result\n      if (margs.success) {\n        margs.success(e, this);\n      }\n    }\n  }\n\n\n}\n\nwindow.get_query_arg = function (purl, key) {\n  if (purl.indexOf(key + '=') > -1) {\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n    if (regtest != null) {\n\n\n      if (regtest[1]) {\n        return regtest[1].replace(/=/g, '');\n      } else {\n        return '';\n      }\n\n\n    }\n  }\n}\n\n\n/**\n *\n * @param {string} purl\n * @param {string} key\n * @param {string} value\n * @returns {*}\n */\nwindow.add_query_arg = function (purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n  s = s.replace(r, \"$1\" + pair);\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n  return s;\n}\n","/*\n* deprecated\n * */\n\n'use strict';\nimport {$es} from \"./js_common/_esjquery\";\nimport {WAVESURFER_MAX_TIMEOUT, DEBUG_STYLE_PLAY_FUNCTIONS} from \"./configs/_constants\";\nimport {convertPluginOptionsToFinalOptions, generateFakeArrayForPcm} from \"./jsinc/_dzsap_helpers\";\n\n\nclass WaveGenerator {\n\n  constructor($waveGenerator_) {\n\n    this.initOptions = {};\n    this.dataSource = '';\n    this.$waveGenerator_ = ($waveGenerator_);\n    this.$waveGenerator = $es($waveGenerator_);\n    this.$wavedataField = null;\n    this.$status = null;\n    this.init();\n  }\n\n  init() {\n\n    let finalOptions = {};\n    const defaultOptions = Object.assign({\n      source: '',\n      selectorWaveData: '',\n    }, {});\n    finalOptions = convertPluginOptionsToFinalOptions(this.$waveGenerator_, defaultOptions, null, 'data-options', $es);\n\n    const selfClass = this;\n\n    selfClass.initOptions = finalOptions;\n    selfClass.$status = selfClass.$waveGenerator.find('.dzsap-wave-generator--status');\n\n\n    if (selfClass.initOptions.source) {\n      selfClass.dataSource = selfClass.initOptions.source;\n    }\n\n    if (selfClass.initOptions.selectorWaveData) {\n      selfClass.$wavedataField = $es(selfClass.initOptions.selectorWaveData);\n    }\n\n    selfClass.$status.html('generating waveforms');\n\n    if (selfClass.dataSource) {\n      promise_waveGenerate(selfClass.$waveGenerator.find('.dzsap-wave-generator--wave').get(0), selfClass.dataSource).then((resolve) => {\n        selfClass.$status.html('');\n\n\n        try {\n          if (resolve.pcm_data) {\n            if (selfClass.$wavedataField) {\n              selfClass.$wavedataField.val(resolve.pcm_data);\n\n              if (dzsap_settings.dzsap_wave_generate_auto === 'on' && get_query_arg(window.location.href, 'dzsap_wave_generate_auto') === 'on') {\n\n                window.dzsap_admin_waveforms_submitPcmData(document.querySelector('.track-waveform-meta'));\n              }\n\n            }\n          }\n        } catch (err) {\n          console.log(err);\n\n        }\n      })\n    }\n  }\n}\n\n\nwindow.es_document_ready(() => {\n\n  $es('.dzsap-wave-generator.auto-init').each($el => {\n    var generator = new WaveGenerator($el.get(0));\n  })\n})\n\nfunction get_query_arg(purl, key) {\n  if (purl.indexOf(key + '=') > -1) {\n\n    var regexS = \"[?&]\" + key + \"=.+\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n    if (regtest != null) {\n      var splitterS = regtest[0];\n      if (splitterS.indexOf('&') > -1) {\n        var aux = splitterS.split('&');\n        splitterS = aux[1];\n      }\n      var splitter = splitterS.split('=');\n\n      return splitter[1];\n\n    }\n  }\n}\n\nwindow.dzsap_generating_pcm = false;\n\nconst promise_waveGenerate = async function ($container_, sourceMp3, pargs) {\n\n\n  var margs = Object.assign({\n    called_from: 'default',\n    preferBackendPeaks: true,\n    wavesurfer_pcm_length: 200\n  }, pargs);\n  var self = this;\n\n\n  return new Promise((resolvePcm, rejectPcm) => {\n\n    async function wavesurfer_renderPcm() {\n\n      function asyncRenderPcm(resolve, reject) {\n\n\n        // -- make sure we are generating only once\n        if (window.dzsap_generating_pcm) {\n          setTimeout(function () {\n            asyncRenderPcm(resolve, reject);\n          }, 1000);\n          return false;\n        }\n        window.dzsap_generating_pcm = true;\n\n\n        var wavesurferConId = 'wavesurfer_' + Math.ceil(Math.random() * 10000);\n\n        if (!$container_) {\n          $container_ = document.body;\n        }\n\n        $es($container_).append(`<div id=\"${wavesurferConId}\"></div>`);\n\n\n        var ctx = document.createElement('canvas').getContext('2d');\n        var linGrad = ctx.createLinearGradient(0, 64, 0, 200);\n        linGrad.addColorStop(0.5, 'rgb(107,95,95)');\n        linGrad.addColorStop(0.5, 'rgb(119,115,115)');\n\n\n        var wavesurfer = WaveSurfer.create({\n          container: '#' + wavesurferConId,\n          normalize: true,\n          pixelRatio: 1,\n          waveColor: linGrad,\n          progressColor: 'hsla(200, 100%, 30%, 0.5)',\n          cursorColor: '#fff',\n          // This parameter makes the waveform look like SoundCloud's player\n          barWidth: 2\n        });\n\n\n        wavesurfer.on('loading', function (percents) {\n\n          $container_.parentNode.querySelector('.dzsap-wave-generator--status').innerHTML = (percents + '%')\n        });\n\n\n        try {\n          wavesurfer.load(sourceMp3);\n        } catch (err) {\n          console.log(\"[wavesurfer] WAVE SURFER NO LOAD\");\n        }\n\n\n        wavesurfer.on('ready', function () {\n\n          const accuracy = 100;\n          let pcmDataArr = [];\n          let pcmDataString = '';\n\n          if (wavesurfer && wavesurfer.exportPCM) {\n\n            if (margs.preferBackendPeaks !== true) {\n\n              pcmDataArr = wavesurfer.exportPCM(margs.wavesurfer_pcm_length, accuracy, true);\n            }\n\n            let isPcmDataArrValid = false;\n\n            console.log('pcmDataString - ', pcmDataString);\n            try {\n              pcmDataArr = JSON.parse(pcmDataString);\n\n              for (let i in pcmDataArr) {\n                if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                  isPcmDataArrValid = true;\n                  break;\n                }\n              }\n            } catch (err) {\n              isPcmDataArrValid = false;\n            }\n\n            if (!isPcmDataArrValid) {\n              pcmDataArr = wavesurfer.backend.getPeaks(margs.wavesurfer_pcm_length, 0, margs.wavesurfer_pcm_length);\n            }\n            for (let i in pcmDataArr) {\n              if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                pcmDataArr[i] = Math.abs(Number(Number(pcmDataArr[i]).toFixed(2)));\n              }\n            }\n\n\n          } else {\n            pcmDataArr = generateFakeArrayForPcm();\n          }\n          pcmDataString = JSON.stringify(pcmDataArr);\n\n\n          resolve({\n            resolve_type: 'success',\n            pcm_data: pcmDataString\n          })\n        });\n\n        wavesurfer.on('error', function (err, err2) {\n          console.log('err - ', err);\n          reject({\n            error_type: 'wavesurfer_error',\n            error_message: err,\n          })\n        });\n\n\n        setTimeout(() => {\n\n          reject({\n            error_type: 'wavesurfer_timeout',\n            error_message: 'timeout',\n          })\n\n        }, WAVESURFER_MAX_TIMEOUT);\n      }\n\n      // -- end promise\n\n\n      return new Promise((resolve, reject) => {\n        asyncRenderPcm(resolve, reject);\n      });\n    }\n\n    wavesurfer_renderPcm().then(responsePcm => {\n      console.log('%c [dzsap] [wave] success while generating pcm - ', DEBUG_STYLE_PLAY_FUNCTIONS, responsePcm)\n\n      resolvePcm(responsePcm);\n\n    }).catch(err => {\n\n      var default_pcm = [];\n\n      for (var i3 = 0; i3 < 200; i3++) {\n        default_pcm[i3] = Math.abs(Number(Math.random()).toFixed(2));\n      }\n      default_pcm = JSON.stringify(default_pcm);\n\n      console.log('%c [dzsap] [wave] error while generating pcm - ', DEBUG_STYLE_PLAY_FUNCTIONS, err, err.error_message)\n\n\n      resolvePcm(default_pcm);\n    });\n  })\n\n\n}\n"],"names":["DEBUG_STYLE_PLAY_FUNCTIONS","WAVESURFER_MAX_TIMEOUT","DZSAP_PLAYER_CLASS_FOOTER_PLAYER","DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM","DZSAP_SCRIPT_SELECTOR_KEYBOARD","DZSAP_VIEW_SONG_CHANGER_CLASS","isValid","n","formatTime","arg","s","Math","round","m","h","isFinite","String","can_history_api","window","history","pushState","dzs_clean_string","replace","get_query_arg","purl","key","indexOf","regtest","RegExp","exec","splitterS","aux","split","add_query_arg","value","pair","encodeURIComponent","r","regex_attr","dzsap_is_mobile","is_ios","is_android","navigator","platform","can_canvas","document","createElement","getContext","is_safari","Object","prototype","toString","call","HTMLElement","userAgent","toLowerCase","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","is_android_good","htmlEncode","jQuery","text","html","dzsap_generate_keyboard_tooltip","keyboard_controls","lab","structureDzsTooltipCommentAfterSubmit","hexToRgb","hex","targetAlpha","result","str","alpha","parseInt","g","b","assignHelperFunctionsToJquery","$","easeIn","t","c","d","checkIfHasClass","argfind","auxarr","fn","prependOnce","_t","this","children","length","prepend","appendOnce","append","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","last","css","width","remove","player_checkIfWeShouldShowAComment","selfClass","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","each","hasClass","_t_posx","offset","left","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","utils_sanitizeToColor","colorString","dzsapInitjQueryRegisters","player_radio_isNameUpdatable","radio_update_song_name","targetKey","_metaArtistCon","playerRegisterWindowFunctions","argtime","argcthis","Infinity","action","id_track","postdata","ceil","post","dzsap_ajaxurl","response","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","assignPcmData","pcmSource","string_jsonConvertToArray","cthis","initOptions","skinwave_enableSpectrum","pcmSourceLen","desiredSize","i","splice","ar_str","waves","JSON","parse","err","dzsap_singleton_ready_calls","dzsap_singleton_ready_calls_is_called","$feed_dzsapMainSettings","$feed_dzsapMainSettingsAll","querySelectorAll","innerHTML","ajaxurl","ajax_url","dzsap__style","after","on","dzsap_currplayer_focused","dzsap_keyboardSetup","jQueryAuxBindings","off","e","$t","preventDefault","stopPropagation","stopImmediatePropagation","_c","get","api_change_media","view_player_playMiscEffects","$conPlayPause","view_player_globalDetermineSyncPlayersIndex","_sourcePlayer","dzsap_syncList_players","forEach","$syncPlayer","dzsap_syncList_index","player_view_addMetaLoaded","$totalTime","timeModel","refreshTimes","getVisualTotalTime","htmlEntities","waitForScriptToBeAvailableThenExecute","verifyVar","callbackFn","Promise","resolve","reject","checkInterval","checkIfVarExists","clearInterval","setInterval","setTimeout","then","player_reinit_findIfPcmNeedsGenerating","o","hasInitialPcmData","skinwave_wave_mode","design_skin","isPcmRequiredToGenerate","scrubbar_type","is_inited_from_playlist","scrubbar_type_wave__has_reveal_animation","playerFunctions","functionType","skinwave_comments_playerid","the_player_id","uniqueId","identifier_pcm","skinwave_comments_enable","player_delete","_con","prev","sanitizeToHexColor","hexcolor","player_identifySource","data_source","player_identifyTypes","disable_timer","audioTypeSelfHosted_streamType","disable_scrub","player_getPlayFromTime","playFrom","playfrom","isNaN","sanitizeToIntFromPointTime","sampleTimeStart","arr","Number","player_determineStickToBottomContainer","$conTest","$stickToBottomContainer","isStickyPlayer","player_stickToBottomContainerDetermineClasses","player_service_getSourceProtection","player_isGoingToSetupMediaNow","player_stopOtherPlayers","dzsap_list","api_pause_media","api_destroy_for_rebuffer","player_syncPlayers_gotoItem","targetIncrement","syncPlayers_autoplayEnabled","$playerInSyncList","keySyncPlayer","targetIndex","$currentSyncPlayer_","api_play_media","player_syncPlayers_buildList","syncPlayers_isDzsapListBuilt","_t23","push","clearTimeout","syncPlayers_buildTimeout","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","$es","finalOptions","tempOptions","isSetFromJson","undefined","$elThis","isArgOptionsDefinedViaJs","Boolean","keys","eval","assign","generateFakeArrayForPcm","it1","random","handle_keypresses","dzsap_isTextFieldFocused","extend","$keyboardControlsInfo","dzsap_keyboard_controls","step_back_amount","dzsap_generate_keyboard_controls","isKeyPressed","pause_play","dzsap_mouseover","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","checkKeyCode","ctrlKey","keyCode","currentTarget","$audioGallery","api_filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","esJquery","selector","$el","querySelector","$els","isNodeList","_el","indexNr","style","display","cln","cloneNode","parentNode","appendChild","el3","classList","add","classToRemove","_tempKid","insertBefore","firstChild","outerHTML","console","callback","bind","arguments","textContent","actionType","event","CustomEvent","bubbles","detail","dispatchEvent","eventName","handler","isSelTheHandler","theHandler","addEventListener","target","matches","contains","attrArgs","log","getAttribute","setAttribute","self","_toCamelCase","x","toUpperCase","previousElementSibling","childNodes","field","form","query","elements","name","j","options","selected","checked","substr","nodes","stringRepr","test","nodeType","es_document_ready","resolutionFunc","rejectionFunc","readyState","resolution","es_ajax","pargs","margs","xhr","XMLHttpRequest","method","form_data","FormData","send","status","addition","WaveGenerator","$waveGenerator_","dataSource","$waveGenerator","$wavedataField","$status","init","selectorWaveData","promise_waveGenerate","pcm_data","dzsap_wave_generate_auto","dzsap_admin_waveforms_submitPcmData","dzsap_generating_pcm","$container_","sourceMp3","called_from","preferBackendPeaks","wavesurfer_pcm_length","resolvePcm","rejectPcm","asyncRenderPcm","wavesurferConId","linGrad","createLinearGradient","addColorStop","wavesurfer","WaveSurfer","create","container","normalize","pixelRatio","waveColor","progressColor","cursorColor","barWidth","percents","load","pcmDataArr","pcmDataString","exportPCM","isPcmDataArrValid","backend","getPeaks","toFixed","stringify","resolve_type","err2","error_type","error_message","wavesurfer_renderPcm","responsePcm","default_pcm","i3"],"sourceRoot":""}