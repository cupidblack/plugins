{"version":3,"sources":["../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js","../../../js_common/_dzs_helpers.js","../../../jsinc/_dzsap_helpers.js","../../../jsinc/_dzsap_misc.js","../../../jsinc/player/_player_config.js","../../../jsinc/player/_player_keyboard.js","../../../jsinc/wave-render/_wave-render-functions.js","change-media.source.js","../../../configs/_constants.js","../../../jsinc/_dzsap_svgs.js","../../../jsinc/player/_player_scrubModeWave.js"],"names":["ConstantsDzsAp","PLAYLIST_TRANSITION_DURATION","DEBUG_STYLE_1","DEBUG_STYLE_2","DEBUG_STYLE_3","DEBUG_STYLE_ERROR","URL_WAVESURFER_HELPER_BACKUP","WAVESURFER_MAX_TIMEOUT","URL_JQUERY","DEBUG_STYLE_PLAY_FUNCTIONS","ERRORED_OUT_CLASS","ERRORED_OUT_MAX_ATTEMPTS","DZSAP_PLAYER_CLASS_FOOTER_PLAYER","DZSAP_PLAYER_CLASS_LOADED","DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW","DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM","DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM","DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED","DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS","DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS","DZSAP_SCRIPT_SELECTOR_KEYBOARD","DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT","playbtn_svg","pausebtn_svg","svg_share_icon","svg_prev_btn","svg_next_btn","svg_menu_state","svg_embed_btn","scrubbar_modeWave_clearObsoleteCanvas","selfClass","_scrubbar","scrubbar_modeWave_setupCanvas_context","_canvas","_canvasContext","scrubbar_modeWave_setupCanvas","pargs","margs","prepare_for_transition_in","Object","struct_scrubBg_str","struct_scrubProg_str","o","initOptions","setTimeout","view_player_scrubModeWaveAdjustCurrTimeAndTotalTime","cthis","parseInt","scrubbarProgX","left","currTime_outerWidth","scrubbarWidth","opacity"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import {ConstantsDzsAp} from \"../configs/_constants\";\n\nexport const decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n\n      return null;\n    }\n  }\n\n  return fout;\n}\nexport async function dzsap_jQueryInit(callback, reject) {\n\n  return new Promise((resolve, reject) => {\n\n    if (window.jQuery) {\n      resolve('jQuery loaded');\n    } else {\n      const script = document.createElement('script');\n      script.onload = function () {\n        if (window.jQuery) {\n          resolve('jQuery loaded');\n        } else {\n          reject('error loading');\n        }\n      };\n      script.src = ConstantsDzsAp.URL_JQUERY;\n\n      document.head.appendChild(script);\n    }\n\n    setTimeout(() => {\n      reject('error loading');\n    }, 15000);\n  })\n}\n/**\n *\n * @param {string} arg\n * @return {string}\n */\nexport function string_curateClassName(arg){\n\n  arg = arg.replace('feed-dzsap', '');\n  arg = arg.replace('feed-dzsap--extra-html', '');\n  return arg;\n}\n\n\nexport function simpleStringify (object){\n  if (object && typeof object === 'object') {\n    object = copyWithoutCircularReferences([object], object);\n  }\n  return JSON.stringify(object);\n\n  function copyWithoutCircularReferences(references, object) {\n    const cleanObject = {};\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      if (value && typeof value === 'object') {\n        if (references.indexOf(value) < 0) {\n          references.push(value);\n          cleanObject[key] = copyWithoutCircularReferences(references, value);\n          references.pop();\n        } else {\n          cleanObject[key] = '###_Circular_###';\n        }\n      } else if (typeof value !== 'function') {\n        cleanObject[key] = value;\n      }\n    });\n    return cleanObject;\n  }\n}\n\nexport const loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n\nexport const getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  const result = string_addTrailingSlash(baseUrl_arr.join('/'));\n  window[baseUrlVar] = result+'/';\n  return result;\n}\n\nfunction string_addTrailingSlash(url){\n  var lastChar = url.substr(-1); // Selects the last character\n  if (lastChar != '/') {         // If the last character is not a slash\n    url = url + '/';            // Append a slash to it.\n  }\n  return url;\n}\nexport const sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n\nexport const setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexport const isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexport const isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexport function getRelativeX (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","import {isValid} from \"../js_common/_dzs_helpers\";\nimport {dzsap_keyboardSetup} from \"./player/_player_keyboard\";\nimport {DZSAP_PLAYER_CLASS_FOOTER_PLAYER, DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM} from \"../configs/_constants\";\n\n\nexport function formatTime(arg) {\n\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n\n    if (String(purl).indexOf(key + '=') > -1) {\n\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n\n        var splitter = splitterS.split('=');\n\n\n        return splitter[1];\n\n      }\n\n    }\n\n  } else {\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n\n  return is_ios() || is_android();\n}\n\nexport function is_ios() {\n\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n\n  var oCanvas = document.createElement(\"canvas\");\n  return !!oCanvas.getContext(\"2d\");\n\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  var ua = navigator.userAgent.toLowerCase();\n\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n\n\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  let structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param hex\n * @param {number|null} targetAlpha 0-1\n * @returns {string}\n */\nexport function hexToRgb(hex, targetAlpha = null) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (targetAlpha !== null) {\n      alpha = targetAlpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n\n  Math.easeIn = function (t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  };\n\n\n  /**\n   *\n   * @param {string} argfind\n   * @param {string} arg\n   * @returns {string}\n   */\n  const checkIfHasClass = (argfind, arg) => {\n\n    if (!argfind) {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (auxarr && auxarr[1]) {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    return argfind;\n  }\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this)\n\n\n    argfind = checkIfHasClass(argfind, arg);\n\n\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    }\n    return false;\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this)\n\n    argfind = checkIfHasClass(argfind, arg);\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    }\n    return false;\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window['dzsap_functions'] = {};\n  window['dzsap_functions']['send_total_time'] = function (argtime, argcthis) {\n\n\n    if (argtime && argtime !== Infinity) {\n      const data = {\n        action: 'dzsap_send_total_time_for_track',\n        id_track: argcthis.attr('data-playerid'),\n        postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    const locationHref = window.location.href;\n\n\n    const auxa = locationHref.split('?');\n\n    let cid = '';\n    let cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    if (argthis) {\n\n      const $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n\n\n  }\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function assignPcmData(selfClass) {\n\n  selfClass.pcmSource = string_jsonConvertToArray(selfClass.cthis.attr('data-pcm'));\n  if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n    var pcmSourceLen = selfClass.pcmSource.length;\n    var desiredSize = 256;\n\n    for (var i = 0; i < pcmSourceLen; i++) {\n      if (i > desiredSize) {\n        continue;\n      }\n      selfClass.pcmSource[i] = selfClass.pcmSource[i * pcmSourceLen / desiredSize] * desiredSize;\n    }\n    selfClass.pcmSource.splice(desiredSize, pcmSourceLen - desiredSize); // removes 3rd element of array\n  }\n}\n\nexport function string_jsonConvertToArray(ar_str) {\n  let waves = [];\n  if (typeof (ar_str) == 'object') {\n    waves = ar_str;\n  } else {\n    try {\n      waves = JSON.parse(ar_str);\n    } catch (err) {\n\n    }\n  }\n\n  return waves;\n}\n\n/**\n * should be called only once on init\n */\nexport function dzsap_singleton_ready_calls() {\n\n  window.dzsap_singleton_ready_calls_is_called = true;\n\n\n  let $feed_dzsapMainSettings = null;\n  const $feed_dzsapMainSettingsAll = document.querySelectorAll('.dzsap-main-settings');\n  if ($feed_dzsapMainSettingsAll.length) {\n    $feed_dzsapMainSettings = $feed_dzsapMainSettingsAll[$feed_dzsapMainSettingsAll.length - 1];\n  }\n  if ($feed_dzsapMainSettings) {\n    window.dzsap_settings = JSON.parse($feed_dzsapMainSettings.innerHTML);\n    window.ajaxurl = window.dzsap_settings.ajax_url;\n    window.dzsap_curr_user = window.dzsap_settings.dzsap_curr_user;\n  }\n\n  jQuery('body').append('<style class=\"dzsap--style\"></style>');\n\n\n  window.dzsap__style = jQuery('.dzsap--style');\n\n\n  jQuery('audio.zoomsounds-from-audio').each(function () {\n    var _t = jQuery(this);\n    _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n    _t.remove();\n  })\n\n  jQuery(document).on('focus.dzsap', 'input', function () {\n    window.dzsap_currplayer_focused = null;\n  })\n\n  registerTextWidth(jQuery);\n\n  dzsap_keyboardSetup();\n}\n\nexport function jQueryAuxBindings($) {\n\n\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    var $t = $(this);\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass('audioplayer-song-changer')) {\n      var _c = $($t.attr('data-fakeplayer')).eq(0);\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer', handleClick_onGlobalZoomSoundsButton)\n\n\n}\n\n\n/**\n * for .zoomsounds-wrapper-bg-center\n * @param selfClass\n */\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n\n  new Promise((resolve, reject) => {\n\n    let checkInterval = 0;\n\n    function checkIfVarExists() {\n      if (verifyVar) {\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n    setTimeout(() => {\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n  })\n}\n\n\n\n\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n\n\n  if (o.scrubbar_type === 'wave') {\n    if (o.is_inited_from_playlist) {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (o.scrubbar_type_wave__has_reveal_animation === 'on') {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (selfClass.isPcmRequiredToGenerate) {\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n\n    if (typeof selfClass.uniqueId === 'string') {\n      selfClass.uniqueId = selfClass.uniqueId.replace('ap', '');\n    }\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n\n    if (selfClass.uniqueId === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\n\n\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n\n    if (!cthis.attr('data-streamtype')) {\n\n      selfClass.audioTypeSelfHosted_streamType = 'shoutcast';\n    }\n\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\n\n\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = sanitizeToIntFromPointTime(get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\nexport function sanitizeToIntFromPointTime(arg) {\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\n\n/**\n * called in player init()\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  let $conTest = selfClass.cthis.parent();\n\n\n\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n\n  }\n  $conTest = selfClass.cthis.parent().parent();\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n  }\n}\n\n\n/**\n *\n * todo: maybe move\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n\n\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  let i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_syncPlayers_gotoItem(selfClass, targetIncrement) {\n  if (window.dzsap_settings.syncPlayers_autoplayEnabled) {\n\n    for (let keySyncPlayer in window.dzsap_syncList_players) {\n      let $playerInSyncList = selfClass.cthis;\n\n      if (selfClass._sourcePlayer) {\n        $playerInSyncList = selfClass._sourcePlayer;\n      }\n\n\n      if (window.dzsap_syncList_players[keySyncPlayer].get(0) === $playerInSyncList.get(0)) {\n\n        keySyncPlayer = parseInt(keySyncPlayer, 10);\n        let targetIndex = window.dzsap_syncList_index + targetIncrement;\n        if (targetIndex >= 0 && targetIndex < window.dzsap_syncList_players.length) {\n          const $currentSyncPlayer_ = window.dzsap_syncList_players[targetIndex].get(0);\n\n\n          if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n            setTimeout(function () {\n              $currentSyncPlayer_.api_play_media({\n                'called_from': 'api_sync_players_prev'\n              });\n            }, 200);\n\n          }\n        }\n      }\n    }\n  }\n\n}\n\nexport function player_syncPlayers_buildList() {\n\n  if (!window.syncPlayers_isDzsapListBuilt) {\n\n    window.dzsap_syncList_players = [];\n\n    window.syncPlayers_isDzsapListBuilt = true;\n\n    jQuery('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n      var _t23 = jQuery(this);\n\n\n      if (_t23.hasClass(DZSAP_PLAYER_CLASS_FOOTER_PLAYER)) {\n        return;\n      }\n\n\n      if (_t23.attr('data-do-not-include-in-list') !== 'on') {\n        window.dzsap_syncList_players.push(_t23);\n      }\n    })\n\n\n    clearTimeout(window.syncPlayers_buildTimeout);\n\n    window.syncPlayers_buildTimeout = setTimeout(function () {\n      window.syncPlayers_isDzsapListBuilt = false;\n    }, 500);\n\n  }\n}\n\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var isSetFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n\n\n  var $elThis = $es(elThis);\n\n  const isArgOptionsDefinedViaJs = Boolean(argOptions && typeof argOptions === 'object' && Object.keys(argOptions).length);\n\n\n  if (isArgOptionsDefinedViaJs) {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        isSetFromJson = true;\n      } catch (err) {\n\n      }\n    }\n    if (!isSetFromJson) {\n      if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n        let aux = $elThis.attr(searchedAttr);\n        aux = 'var aux_opts = ' + aux;\n        eval(aux);\n        tempOptions = Object.assign({}, argOptions);\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (let it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n","import {ConstantsDzsAp} from \"../configs/_constants\";\n\n\nexport function retrieve_soundcloud_url(selfClass, pargs) {\n\n\n  var o = selfClass.initOptions;\n\n  if (o.soundcloud_apikey == '') {\n    alert('soundcloud api key not defined, read docs!');\n  }\n  var aux = 'https://api.' + 'soundcloud.com' + '/resolve?url=' + selfClass.data_source + '&format=json&consumer_key=' + o.soundcloud_apikey;\n\n\n\n  aux = encodeURIComponent(aux);\n\n\n  var soundcloud_retriever = o.php_retriever + '?scurl=' + aux;\n\n\n  jQuery.ajax({\n    type: \"GET\",\n    url: soundcloud_retriever\n    , data: {}\n    , async: true\n    , dataType: 'text'\n    , error: function (err, q, t) {\n\n    }\n    , success: function (response) {\n\n\n      var data = [];\n\n\n      let newSource = '';\n      try {\n        data = JSON.parse(response);\n\n        selfClass.audioType = 'selfHosted';\n\n\n        if (data == '') {\n          selfClass.cthis.addClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n          selfClass.cthis.append('<div class=\"feedback-text\">soundcloud track does not seem to serve via api</div>');\n        }\n\n\n\n        selfClass.original_real_mp3 = selfClass.cthis.attr('data-source');\n        if (data.stream_url) {\n\n          newSource = data.stream_url + '?consumer_key=' + o.soundcloud_apikey + '&origin=localhost';\n          selfClass.cthis.attr('data-source', newSource);\n\n\n          if (selfClass.$feed_fakeButton) {\n            selfClass.$feed_fakeButton.attr('data-source', newSource);\n          }\n          if (selfClass._sourcePlayer) {\n            selfClass._sourcePlayer.attr('data-source', newSource);\n          }\n        } else {\n\n          selfClass.cthis.addClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n          selfClass.cthis.append('<div class=\"feedback-text \">this soundcloud track does not allow streaming  </div>');\n        }\n        selfClass.data_source = newSource;\n\n\n        if (selfClass.cthis.attr('data-pcm')) {\n          selfClass.isAlreadyHasRealPcm = true;\n        }\n        if (o.design_skin == 'skin-wave') {\n          if (o.skinwave_wave_mode == 'canvas') {\n            if (selfClass.isAlreadyHasRealPcm == false) {\n              if ((o.pcm_data_try_to_generate == 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm == 'on') == false) {\n                window.scrubModeWave__initGenerateWaveData(selfClass, {\n                  'call_from': 'soundcloud init(), pcm not real..'\n                });\n              }\n            }\n          }\n        }\n\n        selfClass.setup_media({\n          'called_from': 'change_media'\n        });\n\n\n        setTimeout(function () {\n\n\n          if (selfClass.isPlayPromised) {\n            selfClass.play_media({\n              'call_from': 'change_media'\n            })\n            selfClass.isPlayPromised = false;\n          }\n        }, 300);\n      } catch (err) {\n        console.log('soduncloud parse error -', response, ' - ', soundcloud_retriever);\n      }\n    }\n  });\n\n}\n","import {dzs_clean_string, is_android, is_ios, player_reinit_findIfPcmNeedsGenerating} from \"../_dzsap_helpers\";\nimport {string_curateClassName} from \"../../js_common/_dzs_helpers\";\nimport {svg_share_icon} from \"../_dzsap_svgs\";\n\n/**\n *\n * @param {jQuery} cthis\n * @param {object} o\n * @param {DzsAudioPlayer} selfClass\n */\nexport function configureAudioPlayerOptionsInitial(cthis, o, selfClass) {\n\n\n  selfClass.cthis.addClass('preload-method-' + o.preload_method);\n\n  o.wavesurfer_pcm_length = Number(o.wavesurfer_pcm_length);\n\n\n  o.settings_trigger_resize = parseInt(o.settings_trigger_resize, 10);\n\n\n  if (isNaN(parseInt(o.design_thumbh, 10)) === false) {\n    o.design_thumbh = parseInt(o.design_thumbh, 10);\n  }\n\n  if (o.skinwave_wave_mode === '') {\n    o.skinwave_wave_mode = 'canvas';\n  }\n  if (o.skinwave_enableSpectrum === 'on') {\n    o.skinwave_wave_mode = 'canvas';\n  }\n  if (o.skinwave_wave_mode_canvas_normalize === '') {\n    o.skinwave_wave_mode_canvas_normalize = 'on';\n  }\n  if (o.skinwave_wave_mode_canvas_waves_number === '' || isNaN(Number(o.skinwave_wave_mode_canvas_waves_number))) {\n    o.skinwave_wave_mode_canvas_waves_number = 3;\n  }\n\n\n  if (o.autoplay === 'on' && o.cue === 'on') {\n    o.preload_method = 'auto';\n  }\n\n  cthis.addClass(o.extra_classes_player)\n\n  if (o.design_skin === '') {\n    o.design_skin = 'skin-default';\n  }\n\n\n  if (selfClass.cthis.find('.feed-dzsap--embed-code').length) {\n\n    selfClass.feedEmbedCode = selfClass.cthis.find('.feed-dzsap--embed-code').eq(0).html();\n  } else {\n    if (o.embed_code !== '') {\n      selfClass.feedEmbedCode = o.embed_code;\n    }\n  }\n\n  if (is_ios()) {\n\n    if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n      selfClass.initOptions.skinwave_enableSpectrum = 'off';\n    }\n\n  }\n\n  const skin_regex = / skin-/g;\n\n\n  if (skin_regex.test(cthis.attr('class'))) {\n\n  } else {\n\n    cthis.addClass(o.design_skin);\n  }\n\n\n  if (cthis.hasClass('skin-default')) {\n    o.design_skin = 'skin-default';\n  }\n  if (cthis.hasClass('skin-wave')) {\n    o.design_skin = 'skin-wave';\n  }\n  if (cthis.hasClass('skin-justthumbandbutton')) {\n    o.design_skin = 'skin-justthumbandbutton';\n  }\n  if (cthis.hasClass('skin-pro')) {\n    o.design_skin = 'skin-pro';\n  }\n  if (cthis.hasClass('skin-aria')) {\n    o.design_skin = 'skin-aria';\n  }\n  if (cthis.hasClass('skin-silver')) {\n    o.design_skin = 'skin-silver';\n  }\n  if (cthis.hasClass('skin-redlights')) {\n    o.design_skin = 'skin-redlights';\n  }\n  if (cthis.hasClass('skin-steel')) {\n    o.design_skin = 'skin-steel';\n  }\n  if (cthis.hasClass('skin-customcontrols')) {\n    o.design_skin = 'skin-customcontrols';\n  }\n\n\n  if (o.design_skin === 'skin-wave') {\n    if (o.scrubbar_type === 'auto') {\n      o.scrubbar_type = 'wave';\n    }\n  }\n  if (o.scrubbar_type === 'auto') {\n    o.scrubbar_type = 'bar';\n  }\n\n  if (o.settings_php_handler === 'wpdefault') {\n    o.settings_php_handler = window.ajaxurl;\n  }\n  if (o.action_received_time_total === 'wpdefault') {\n    o.action_received_time_total = window.dzsap_send_total_time;\n  }\n  if (o.action_video_contor_60secs === 'wpdefault') {\n    o.action_video_contor_60secs = window.action_video_contor_60secs;\n  }\n\n\n  if (is_ios() || is_android()) {\n    o.autoplay = 'off';\n    o.disable_volume = 'on';\n    if (o.cueMedia === 'off') {\n      o.cueMedia = 'on';\n    }\n    o.cueMedia = 'on';\n  }\n\n  if (cthis.attr('data-viewsubmitted') === 'on') {\n    selfClass.ajax_view_submitted = 'on';\n\n\n  }\n  if (cthis.attr('data-userstarrating')) {\n    selfClass.starrating_alreadyrated = Number(cthis.attr('data-userstarrating'));\n  }\n\n  if (cthis.attr('data-loop') === 'on') {\n    selfClass.initOptions.loop = 'on';\n  }\n\n\n  if (cthis.hasClass('skin-minimal')) {\n    o.design_skin = 'skin-minimal';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n    o.disable_timer = 'on';\n  }\n  if (cthis.hasClass('skin-minion')) {\n    o.design_skin = 'skin-minion';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n    o.disable_timer = 'on';\n  }\n\n\n  if (o.design_color_bg) {\n    o.design_wave_color_bg = o.design_color_bg;\n  }\n\n\n  if (o.design_color_highlight) {\n    o.design_wave_color_progress = o.design_color_highlight;\n  }\n\n\n  if (o.design_skin === 'skin-justthumbandbutton') {\n    if (o.design_thumbh === 'default') {\n      o.design_thumbh = '';\n\n    }\n    o.disable_timer = 'on';\n    o.disable_volume = 'on';\n\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n  }\n  if (o.design_skin === 'skin-redlights') {\n    o.disable_timer = 'on';\n    o.disable_volume = 'off';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-steel') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'off';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-customcontrols') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'on';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n\n  }\n\n\n  if (o.embed_code === '') {\n    if (cthis.find('div.feed-embed-code').length > 0) {\n      o.embed_code = cthis.find('div.feed-embed-code').eq(0).html();\n    }\n  }\n\n  if (o.design_animateplaypause === 'default') {\n    o.design_animateplaypause = 'off';\n  }\n\n  if (o.design_animateplaypause === 'on') {\n    cthis.addClass('design-animateplaypause');\n  }\n\n  if (window.dzsap_settings) {\n    if (window.dzsap_settings.ajax_url) {\n      if (!o.settings_php_handler) {\n\n        o.settings_php_handler = window.dzsap_settings.ajax_url;\n      }\n    }\n  }\n\n  if (o.settings_php_handler) {\n    selfClass.urlToAjaxHandler = o.settings_php_handler;\n  } else {\n    if (window.dzsap_settings && window.dzsap_settings.php_handler) {\n\n      selfClass.urlToAjaxHandler = window.dzsap_settings.php_handler;\n    }\n  }\n\n\n  player_reinit_findIfPcmNeedsGenerating(selfClass);\n\n}\n\nexport function player_detect_skinwave_mode() {\n\n  const selfClass = this;\n\n\n  selfClass.skinwave_mode = selfClass.initOptions.skinwave_mode;\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-small')) {\n    selfClass.skinwave_mode = 'small'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    selfClass.skinwave_mode = 'alternate'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-bigwavo')) {\n    selfClass.skinwave_mode = 'bigwavo'\n  }\n}\n\n\n\nexport function player_viewApplySkinWaveModes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n\n  selfClass.cthis.removeClass('skin-wave-mode-normal');\n\n  if (o.design_skin === 'skin-wave') {\n    selfClass.cthis.addClass('skin-wave-mode-' + selfClass.skinwave_mode);\n\n\n    selfClass.cthis.addClass('skin-wave-wave-mode-' + o.skinwave_wave_mode);\n    if (o.skinwave_enableSpectrum === 'on') {\n      selfClass.cthis.addClass('skin-wave-is-spectrum');\n    }\n    selfClass.cthis.addClass('skin-wave-wave-mode-canvas-mode-' + o.skinwave_wave_mode_canvas_mode);\n  }\n\n\n}\n\nexport function player_determineHtmlAreas(selfClass) {\n\n  var o = selfClass.initOptions;\n\n\n  let extraHtmlBottom = '';\n  let extraHtmlControlsLeft = '';\n  let extraHtmlControlsRight = '';\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html').length > 0 && o.settings_extrahtml === '') {\n    selfClass.cthis.children('.feed-dzsap--extra-html').each(function () {\n\n      let newExtraHtmlSectionClassName = string_curateClassName(this.className);\n      extraHtmlBottom += `<section class=\"dzsap-extra-html--section-bottom ${newExtraHtmlSectionClassName}\">${this.innerHTML}</section>`;\n    })\n    selfClass.cthis.children('.feed-dzsap--extra-html').remove();\n  } else {\n    if (o.settings_extrahtml) {\n      extraHtmlBottom = o.settings_extrahtml;\n    }\n  }\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').length > 0) {\n    extraHtmlControlsLeft = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').length > 0) {\n    extraHtmlControlsRight = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-bottom').length > 0) {\n    extraHtmlBottom = selfClass.cthis.children('.feed-dzsap--extra-html-bottom').eq(0).html();\n  }\n\n\n  selfClass.extraHtmlAreas.controlsLeft = extraHtmlControlsLeft;\n  selfClass.extraHtmlAreas.controlsRight = extraHtmlControlsRight;\n  selfClass.extraHtmlAreas.bottom = extraHtmlBottom;\n\n\n  if (selfClass.extraHtmlAreas.controlsRight) {\n    selfClass.extraHtmlAreas.controlsRight = String(selfClass.extraHtmlAreas.controlsRight).replace(/{{svg_share_icon}}/g, svg_share_icon);\n  }\n\n\n  for (var key in selfClass.extraHtmlAreas) {\n\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{heart_svg}}', '\\t&hearts;');\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{embed_code}}', selfClass.feedEmbedCode);\n  }\n}\n\n\nexport function player_determineActualPlayer(selfClass) {\n\n  var $ = jQuery;\n  var $fakePlayer = $(selfClass.cthis.attr('data-fakeplayer'));\n\n\n  if ($fakePlayer.length === 0) {\n    $fakePlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    if ($fakePlayer.length) {\n      selfClass._actualPlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n      selfClass.cthis.attr('data-fakeplayer', String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    }\n  }\n\n  if ($fakePlayer.length === 0) {\n    selfClass.cthis.attr('data-fakeplayer', '');\n  } else {\n    selfClass.cthis.addClass('player-is-feeding is-source-player-for-actual-player');\n    if (selfClass.cthis.attr('data-type')) {\n      selfClass._actualPlayer = $(selfClass.cthis.attr('data-fakeplayer')).eq(0);\n      selfClass._actualPlayer.addClass('player-is-feeded');\n      selfClass.actualDataTypeOfMedia = selfClass.cthis.attr('data-type');\n      selfClass.cthis.attr('data-original-type', selfClass.actualDataTypeOfMedia);\n    }\n  }\n}\n\n\nexport function player_adjustIdentifiers(selfClass) {\n\n  selfClass.identifier_pcm = selfClass.the_player_id;\n\n\n  var _feed_obj = null;\n\n  if (selfClass.$feed_fakeButton) {\n    _feed_obj = selfClass.$feed_fakeButton;\n  } else {\n    if (selfClass._sourcePlayer) {\n      _feed_obj = selfClass._sourcePlayer;\n    } else {\n      _feed_obj = null;\n    }\n  }\n\n\n  if (selfClass.identifier_pcm === 'dzs_footer') {\n    selfClass.identifier_pcm = dzs_clean_string(selfClass.cthis.attr('data-source'));\n  }\n\n  if (_feed_obj) {\n    if (_feed_obj.attr('data-playerid')) {\n      selfClass.identifier_pcm = _feed_obj.attr('data-playerid');\n    } else {\n      if (_feed_obj.attr('data-source')) {\n        selfClass.identifier_pcm = _feed_obj.attr('data-source');\n      }\n    }\n  }\n\n  if (typeof selfClass.identifier_pcm === 'string') {\n    selfClass.identifier_pcm = selfClass.identifier_pcm.replace('ap', '');\n  }\n\n}\n","import {DZSAP_SCRIPT_SELECTOR_KEYBOARD} from \"../../configs/_constants\";\n\nexport const dzsap_generate_keyboard_controls = function () {\n  let keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  const $keyboardControlsInfo = jQuery(DZSAP_SCRIPT_SELECTOR_KEYBOARD);\n  if ($keyboardControlsInfo.length) {\n    window.dzsap_keyboard_controls = JSON.parse($keyboardControlsInfo.html());\n  }\n\n  if (window.dzsap_keyboard_controls) {\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n\n  return keyboard_controls;\n};\n\n\nexport function handle_keypresses(e) {\n\n  if (window.dzsap_isTextFieldFocused) {\n    return;\n  }\n\n\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  const keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if (!$(dzsap_currplayer_focused).hasClass('comments-writer-active')) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      dzsap_currplayer_focused.api_sync_players_goto_next();\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      dzsap_currplayer_focused.api_sync_players_goto_prev();\n    }\n\n\n  }\n}\n\n\n/**\n * called in singleton\n */\nexport const dzsap_keyboardSetup = () => {\n\n  let $ = jQuery;\n\n  window.dzsap_isTextFieldFocused = false;\n\n  $(document).off('keydown.dzsapkeyup');\n  $(document).on('keydown.dzsapkeyup', handle_keypresses);\n\n\n  $(document).on('focus blur', 'textarea,input', function (e) {\n\n    if (e.type == 'focusin' || e.type == 'focus') {\n\n      window.dzsap_isTextFieldFocused = true;\n    }\n    if (e.type == 'focusout' || e.type == 'blur') {\n\n      window.dzsap_isTextFieldFocused = false;\n    }\n  });\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n    const _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        let $audioGallery = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          $audioGallery = $(_t.attr('data-target'));\n        }\n        if ($audioGallery.get(0) && $audioGallery.get(0).api_filter) {\n          $audioGallery.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n}\n","import {hexToRgb, sanitizeToHexColor, string_jsonConvertToArray, utils_sanitizeToColor} from '../_dzsap_helpers';\n\nimport {ConstantsDzsAp} from \"../../configs/_constants\";\nimport {loadScriptIfItDoesNotExist} from \"../../js_common/_dzs_helpers\";\nimport {scrubbar_modeWave_clearObsoleteCanvas, scrubbar_modeWave_setupCanvas} from \"../player/_player_scrubModeWave\";\n\nwindow.dzsap_wavesurfer_load_attempt = 0;\nwindow.dzsap_wavesurfer_is_trying_to_generate = null;\n\n\nvar dzsapWaveRender = this;\n\n/**\n * called on init_loaded\n * @param selfClass\n * @param pargs\n * @returns {boolean}\n */\nexport function scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, pargs) {\n\n\n  var margs = {\n    'call_from': 'default'\n    , 'call_attempt': 0\n  };\n  if (pargs) {\n    margs = jQuery.extend(margs, pargs);\n  }\n\n\n  // -- retry\n  if (window.dzsap_wavesurfer_is_trying_to_generate) {\n    setTimeout(function () {\n\n      margs.call_attempt++;\n      if (margs.call_attempt < 10) {\n        scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, margs);\n        ;\n      }\n    }, 1000)\n    return false;\n  }\n\n\n  if (selfClass.isPcmRequiredToGenerate) {\n\n    if (isWeCanGeneratePcm(selfClass)) {\n\n      window.dzsap_wavesurfer_is_trying_to_generate = selfClass;\n\n\n      window.dzsap_get_base_url();\n\n      let wavesurferUrl = window.dzsap_base_url ? window.dzsap_base_url + 'parts/wavesurfer/dzsap-wave-generate.js' : ConstantsDzsAp.URL_WAVESURFER_HELPER_BACKUP;\n\n\n      window.scrubModeWave__view_transitionIn = scrubModeWave__view_transitionIn;\n\n\n      loadScriptIfItDoesNotExist(wavesurferUrl, window.scrubModeWave__initedGenerateWave).then((resolveStr) => {\n\n\n        scrubModeWave__initGenerateWaveData(selfClass);\n      });\n    }\n  }\n}\n\nfunction isWeCanGeneratePcm(selfClass) {\n\n  if (selfClass.isAlreadyHasRealPcm) {\n    return false;\n  }\n  return selfClass.data_source != 'fake';\n\n}\n\nexport function view_drawCanvases(selfClass, argpcm, calledFrom) {\n  var o = selfClass.initOptions;\n\n  draw_canvas(selfClass._scrubbarbg_canvas.get(0), argpcm, \"#\" + o.design_wave_color_bg, {\n    call_from: calledFrom + '_bg',\n    selfClass,\n    'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n    'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding, 10)\n  });\n  draw_canvas(selfClass._scrubbarprog_canvas.get(0), argpcm, '#' + o.design_wave_color_progress, {\n      call_from: calledFrom + '_prog',\n      selfClass,\n      'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n      'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding, 10),\n    },\n    true);\n}\n\n\n/**\n * called on isPcmRequiredToGenerate ( init_loaded )  / change_media\n * @param selfClass\n * @param argpcm\n */\nexport function scrubModeWave__view_transitionIn(selfClass, argpcm) {\n\n\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').removeClass('transitioning-in');\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').addClass('transitioning-out');\n  ;\n\n  scrubbar_modeWave_setupCanvas({\n    'prepare_for_transition_in': true\n  }, selfClass);\n\n  view_drawCanvases(selfClass, argpcm, 'canvas_generate_wave_data_animate_pcm');\n\n\n  setTimeout(() => {\n    scrubbar_modeWave_clearObsoleteCanvas(selfClass);\n  }, 300);\n\n  // -- warning - not always real pcm\n  selfClass.isAlreadyHasRealPcm = true;\n  selfClass.scrubbar_reveal();\n}\n\n\n/**\n * aggregate wave array based on max\n * @param waveArrayTemp\n * @returns {array}\n */\nfunction waveCalculateWaveArray(waveArrayTemp) {\n  let max = 0;\n  let waveArrayNew = [];\n  let barIndex = 0;\n\n  let waveArray = string_jsonConvertToArray(waveArrayTemp);\n\n\n  // -- normalizing\n  for (barIndex = 0; barIndex < waveArray.length; barIndex++) {\n    if ((waveArray[barIndex]) > max) {\n      max = (waveArray[barIndex]);\n    }\n  }\n\n  for (barIndex = 0; barIndex < waveArray.length; barIndex++) {\n    waveArrayNew[barIndex] = parseFloat(Math.abs(waveArray[barIndex]) / Number(max));\n  }\n  // -- end normalize\n\n  waveArray = waveArrayNew;\n\n  return waveArray;\n\n}\n\n\nfunction view_drawBars(_canvasContext, isReflection, isProgressScrubContext, hexcolor, barCount, waveArray, widthCanvas, heightCanvas, reflection_size, playerOptions, margs, selfClass, bar_space) {\n  let isWithinSample = false;\n  var searched_index = null;\n  var lastBarHeight = 0;\n  var gradient = null;\n  var spectrum_isBarWithinProgress = false; // -- color the bar in progress colors\n\n\n  hexcolor = sanitizeToHexColor(hexcolor);\n  // -- left right gradient\n  var temp_hex = hexcolor;\n  temp_hex = temp_hex.replace('#', '');\n  var hexcolors = []; // -- hex colors array\n  if (temp_hex.indexOf(',') > -1) {\n    hexcolors = temp_hex.split(',');\n  }\n\n\n  if (barCount == 1) {\n    barCount = widthCanvas / barCount;\n  }\n  if (barCount == 2) {\n    barCount = widthCanvas / 2;\n  }\n  if (barCount == 3) {\n    barCount = (widthCanvas) / 3;\n  }\n\n\n  if (widthCanvas / barCount < 1) {\n    barCount = Math.ceil(barCount / 3);\n  }\n\n\n  var widthBar = Math.ceil(widthCanvas / barCount);\n  var sizeRatioNormal = 1 - reflection_size;\n\n\n  if (widthBar == 0) {\n    widthBar = 1;\n    bar_space = 0;\n  }\n  if (widthBar == 1) {\n    bar_space = bar_space / 2;\n  }\n\n\n  var progress_hexcolor = '';\n  var progress_hexcolors = '';\n\n\n  if (margs.call_from == 'spectrum') {\n    progress_hexcolor = playerOptions.design_wave_color_progress;\n    progress_hexcolor = progress_hexcolor.replace('#', '');\n    progress_hexcolors = []; // -- hex colors array\n    if (progress_hexcolor.indexOf(',') > -1) {\n      progress_hexcolors = progress_hexcolor.split(',');\n\n    }\n  }\n\n  for (let barIndex = 0; barIndex < barCount; barIndex++) {\n    isWithinSample = false;\n    _canvasContext.save();\n\n\n    searched_index = Math.ceil(barIndex * (waveArray.length / barCount));\n\n    // -- we'll try to prevent\n    if (barIndex < barCount / 5) {\n      if (waveArray[searched_index] < 0.1) {\n        waveArray[searched_index] = 0.1;\n      }\n    }\n    if (waveArray.length > barCount * 2.5 && barIndex > 0 && barIndex < waveArray.length - 1) {\n      waveArray[searched_index] = Math.abs(waveArray[searched_index] + waveArray[searched_index - 1] + waveArray[searched_index + 1]) / 3\n    }\n    // -- normalize end\n\n\n    let targetRatio = sizeRatioNormal;\n    if (isReflection) {\n      targetRatio = reflection_size;\n    }\n\n    let barHeight = Math.abs(waveArray[searched_index] * heightCanvas * targetRatio);\n\n\n    if (playerOptions.skinwave_wave_mode_canvas_normalize == 'on') {\n      if (isNaN(lastBarHeight)) {\n        lastBarHeight = 0;\n      }\n      barHeight = barHeight / 1.5 + lastBarHeight / 2.5;\n    }\n    lastBarHeight = barHeight;\n\n\n    _canvasContext.lineWidth = 0;\n    barHeight = Math.floor(barHeight);\n\n\n    const barPositionTop = isReflection ? heightCanvas * sizeRatioNormal : Math.ceil(heightCanvas * targetRatio - barHeight);\n\n\n    _canvasContext.beginPath();\n    _canvasContext.rect(barIndex * widthBar, barPositionTop, widthBar - bar_space, barHeight);\n\n\n    if (margs.call_from == 'spectrum') {\n      if (barIndex / barCount < selfClass.timeCurrent / selfClass.timeTotal) {\n        spectrum_isBarWithinProgress = true;\n      } else {\n        spectrum_isBarWithinProgress = false;\n      }\n    }\n\n\n    if (selfClass.isSample) {\n      isWithinSample = isBeforeOrAfterSample(barIndex, barCount, selfClass);\n    }\n\n\n    if (spectrum_isBarWithinProgress) {\n      if (isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto') {\n        _canvasContext.fillStyle = hexToRgb(progress_hexcolor, 0.25);\n      } else {\n        _canvasContext.fillStyle = isWithinSample ? hexToRgb(progress_hexcolor, 0.5) : '#' + progress_hexcolor;\n      }\n\n\n      if (progress_hexcolors.length) {\n\n        const startColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb('#' + progress_hexcolors[0], 0.25) : '#' + progress_hexcolors[0];\n        const endColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb('#' + progress_hexcolors[1], 0.25) : '#' + progress_hexcolors[1];\n\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, heightCanvas);\n        gradient.addColorStop(0, startColor);\n        gradient.addColorStop(1, endColor);\n        _canvasContext.fillStyle = gradient;\n      }\n\n    } else {\n      /**\n       * normal\n       */\n\n\n      if (isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto') {\n        _canvasContext.fillStyle = hexToRgb(hexcolor, 0.25);\n      } else {\n\n        _canvasContext.fillStyle = isWithinSample ? hexToRgb(hexcolor, 0.5) : '' + hexcolor;\n      }\n\n      // -- if we have gradient\n      if (hexcolors.length) {\n        const startColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb(utils_sanitizeToColor(hexcolors[0]), 0.25) : '' + utils_sanitizeToColor(hexcolors[0]);\n        const endColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb(utils_sanitizeToColor(hexcolors[1]), 0.25) : '' + utils_sanitizeToColor(hexcolors[1]);\n\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, heightCanvas);\n        gradient.addColorStop(0, startColor);\n        gradient.addColorStop(1, endColor);\n        _canvasContext.fillStyle = gradient;\n      }\n\n\n    }\n\n\n    if (!(isWithinSample && isProgressScrubContext)) {\n\n\n      _canvasContext.fill();\n      _canvasContext.closePath();\n    }\n\n\n    _canvasContext.restore();\n\n  }\n\n}\n\n\n/**\n * draw with different color\n * @returns {boolean}\n * @param {number} currBarIndex\n * @param {number} barCount\n * @param {DzsAudioPlayer} selfClass\n */\nfunction isBeforeOrAfterSample(currBarIndex, barCount, selfClass) {\n\n\n  if ((currBarIndex / barCount < selfClass.timeModel.sampleTimeStart / selfClass.timeModel.sampleTimeTotal) || currBarIndex / barCount > selfClass.timeModel.sampleTimeEnd / selfClass.timeModel.sampleTimeTotal) {\n\n    return true;\n  }\n  return false;\n}\n\n/**\n * draw canvas here\n * @param $canvas_\n * @param pcm_arr\n * @param hexcolor\n * @param pargs\n * @param {boolean} isProgressScrubContext\n * @returns {boolean}\n */\nexport function draw_canvas($canvas_, pcm_arr, hexcolor, pargs, isProgressScrubContext = false) {\n  let margs = {\n    'call_from': 'default',\n    'is_sample': false,\n    'selfClass': null,\n    'sample_time_start': 0,\n    'sample_time_end': 0,\n    'sample_time_total': 0,\n    'skinwave_wave_mode_canvas_waves_number': 2,\n    'skinwave_wave_mode_canvas_waves_padding': 1,\n  };\n\n  const $ = jQuery;\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n  var _canvas = $($canvas_);\n  var __canvas = $canvas_;\n\n  if (_canvas.get(0)) {\n\n\n    var {selfClass, skinwave_wave_mode_canvas_waves_number, skinwave_wave_mode_canvas_waves_padding} = margs;\n    let playerOptions = {};\n    var _canvasContext = _canvas.get(0).getContext(\"2d\");\n    var waveArrayTemp = pcm_arr;\n    var widthCanvas;\n    var heightCanvas;\n\n    let waveArray = [];\n\n\n    // -- sanitize\n    if (isNaN(Number(skinwave_wave_mode_canvas_waves_number))) {\n      skinwave_wave_mode_canvas_waves_number = 2;\n    }\n\n    if (isNaN(Number(skinwave_wave_mode_canvas_waves_padding))) {\n      if (skinwave_wave_mode_canvas_waves_number !== 1) {\n        skinwave_wave_mode_canvas_waves_padding = 1;\n      } else {\n        skinwave_wave_mode_canvas_waves_padding = 0;\n      }\n    }\n\n    if (selfClass) {\n      playerOptions = selfClass.initOptions;\n    }\n\n\n    let barCount = skinwave_wave_mode_canvas_waves_number;\n    let bar_space = skinwave_wave_mode_canvas_waves_padding;\n\n\n    if (_canvas && _canvas.get(0)) {\n\n    } else {\n      return false;\n    }\n\n\n    if (selfClass && selfClass._scrubbar) {\n      if (selfClass._scrubbarprog_canvas) {\n        selfClass._scrubbarbg_canvas.width(selfClass._scrubbar.width());\n        selfClass._scrubbarprog_canvas.width(selfClass._scrubbar.width());\n        $canvas_.width = selfClass._scrubbar.width();\n        $canvas_.height = selfClass._scrubbar.height();\n      }\n    }\n\n\n    waveArray = waveCalculateWaveArray(waveArrayTemp);\n\n\n    if (selfClass) {\n      __canvas.width = selfClass._scrubbar.width();\n    }\n\n    widthCanvas = __canvas.width;\n    heightCanvas = __canvas.height;\n\n\n    const reflection_size = parseFloat(playerOptions.skinwave_wave_mode_canvas_reflection_size);\n\n\n    // -- left right gradient END\n\n\n    _canvasContext.clearRect(0, 0, widthCanvas, heightCanvas);\n\n\n    view_drawBars(_canvasContext, false, isProgressScrubContext, hexcolor, barCount, waveArray, widthCanvas, heightCanvas, reflection_size, playerOptions, margs, selfClass, bar_space)\n    if (reflection_size > 0) {\n      view_drawBars(_canvasContext, true, isProgressScrubContext, hexcolor, barCount, waveArray, widthCanvas, heightCanvas, reflection_size, playerOptions, margs, selfClass, bar_space)\n    }\n\n    // -- reflection\n    setTimeout(function () {\n      selfClass.scrubbar_reveal();\n    }, 100)\n  }\n\n\n}\n","import {\n  assignPcmData,\n  player_reinit_findIfPcmNeedsGenerating,\n  sanitizeObjectForChangeMediaArgs\n} from \"../../../jsinc/_dzsap_helpers\";\nimport {ConstantsDzsAp} from \"../../../configs/_constants\";\nimport {\n  scrubModeWave__checkIfWeShouldTryToGetPcm,\n  scrubModeWave__view_transitionIn\n} from \"../../../jsinc/wave-render/_wave-render-functions\";\nimport {player_adjustIdentifiers} from \"../../../jsinc/player/_player_config\";\nimport {retrieve_soundcloud_url} from \"../../../jsinc/_dzsap_misc\";\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {jQuery} $\n * @returns {function(*, *=): (boolean|undefined)}\n */\nfunction media_changeMedia(selfClass, $) {\n  /**\n   * change media source for the player / change_media(\"song.mp3\", {type:\"audio\", fakeplayer_is_feeder:\"off\"});\n   * @param {HTMLElement|string} $playerSource - can be player dom element\n   * @param pargs - {type:\"audio\", fakeplayer_is_feeder:\"off\"}\n   * @returns {boolean}\n   */\n  return function ($playerSource, pargs = {}) {\n\n\n    const changeMediaArgsDefaults = {\n      type: '',\n      fakeplayer_is_feeder: 'off' // -- this is OFF in case there is a button feeding it, and on if it's an actual player\n      , called_from: 'default'\n      , source: 'default'\n      , pcm: ''\n      , artist: \"\"\n      , song_name: \"\"\n      , thumb: \"\"\n      , thumb_link: \"\"\n      , autoplay: \"on\"\n      , cue: \"on\"\n      , feeder_type: \"player\"\n      , source_player_do_not_update: \"off\"\n      , playerid: \"\"\n    };\n\n\n    selfClass.ajax_view_submitted = 'on'; // -- view submitted from caller\n\n\n    var handle_resize_delay = 500;\n    let changeMediaArgs = {...changeMediaArgsDefaults, ...pargs};\n    var o = selfClass.initOptions;\n\n\n    const $sourceForChange = $playerSource;\n\n\n    // -- let us decide if we pause old player\n    var isGoingToPauseTheOldPlayer = true; // pause previous player\n    var isGoingToPauseTheActualPlayer = false; // pause if\n    var isSourceAStringSource = false;\n    var isSourceAZoomSoundsAudioplayer = false;\n    let isSourceA$Object = false;\n\n    let newSource = '';\n\n\n    if ($sourceForChange && $sourceForChange.attr) {\n      isSourceA$Object = true;\n    }\n\n\n    selfClass.reinit_resetMetrics();\n    selfClass.reinit_beforeChangeMedia();\n\n    if (typeof $sourceForChange === 'string') {\n      isSourceAStringSource = true;\n    }\n\n    if (!isSourceAStringSource) {\n      if ($playerSource.hasClass('audioplayer') || $playerSource.hasClass('audioplayer-tobe')) {\n        isSourceAZoomSoundsAudioplayer = true;\n      }\n    }\n\n    $('.current-feeder-for-parent-player').removeClass('current-feeder-for-parent-player');\n\n    if (selfClass.$reflectionVisualObject) {\n      selfClass.$reflectionVisualObject.removeClass('is-playing');\n    }\n\n\n    if (isSourceAStringSource) {\n      newSource = $sourceForChange;\n    }\n    if (isSourceA$Object) {\n\n      newSource = $sourceForChange.attr('data-source');\n      selfClass.$reflectionVisualObject = $sourceForChange;\n      changeMediaArgs = {...changeMediaArgs, ...sanitizeObjectForChangeMediaArgs($sourceForChange)};\n    }\n    if (changeMediaArgs.source && changeMediaArgs.source != 'default') {\n      newSource = changeMediaArgs.source;\n    }\n\n\n    if (selfClass.data_source === newSource) {\n      isGoingToPauseTheOldPlayer = false;\n    }\n\n    // -- old feed fake player\n\n    if (isGoingToPauseTheOldPlayer && selfClass._sourcePlayer) {\n      selfClass._sourcePlayer.get(0).api_pause_media_visual({\n        'call_from': 'change_media'\n      });\n      selfClass._sourcePlayer.get(0).api_set_timeVisualTotal(0);\n    }\n\n    // -- we are in one mode, so we need to preserve the originalSettings of the first item\n    if (!(selfClass.cthis.data('original-settings')) && selfClass.data_source !== 'fake') {\n      selfClass.cthis.data('original-settings', sanitizeObjectForChangeMediaArgs(selfClass.cthis))\n    }\n\n\n    const oldSource = selfClass.data_source;\n    selfClass.data_source = newSource;\n\n    const isSourceHasClassForDomSource = !isSourceAStringSource && !!($sourceForChange.hasClass('audioplayer') || $sourceForChange.hasClass('is-zoomsounds-source-player'));\n\n\n    if ((isSourceHasClassForDomSource) || changeMediaArgs.fakeplayer_is_feeder === 'on') {\n\n      selfClass.set_sourcePlayer($sourceForChange)\n      if (selfClass._sourcePlayer) {\n\n        selfClass.cthis.data('feeding-from', selfClass._sourcePlayer.get(0));\n        selfClass._sourcePlayer.addClass('current-feeder-for-parent-player');\n      }\n    }\n\n    if (!isSourceAStringSource && $sourceForChange) {\n      if ($sourceForChange && $sourceForChange.attr('data-playerid')) {\n        selfClass.cthis.attr('data-feed-playerid', $sourceForChange.attr('data-playerid'));\n      } else {\n        selfClass.cthis.attr('data-feed-playerid', '');\n        changeMediaArgs.playerid = '';\n      }\n    }\n\n\n    if (oldSource === newSource) {\n      if (selfClass.cthis.hasClass('is-playing')) {\n        selfClass.pause_media();\n      } else {\n        selfClass.play_media();\n      }\n      return false;\n    }\n\n\n    if (changeMediaArgs.type === 'detect' || changeMediaArgs.type === 'audio' || changeMediaArgs.type === 'normal') {\n      changeMediaArgs.type = 'selfHosted';\n    }\n\n\n    selfClass.cthis.removeClass('meta-loaded');\n\n\n    // -- footer placeholder\n    if (selfClass.cthis.parent().hasClass('audioplayer-was-loaded')) {\n\n      selfClass.cthis.parent().addClass('audioplayer-loaded');\n      $('body').addClass('footer-audioplayer-loaded');\n      selfClass.cthis.parent().removeClass('audioplayer-was-loaded');\n    }\n\n    if (selfClass.$stickToBottomContainer) {\n      selfClass.$stickToBottomContainer.addClass('audioplayer-loaded');\n    }\n\n\n    selfClass.cthis.removeClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n\n\n    selfClass.destroy_media();\n\n\n    selfClass.cthis.attr('data-source', changeMediaArgs.source);\n\n\n    const original_type = changeMediaArgs.type;\n    if (changeMediaArgs.type === 'mediafile') {\n      changeMediaArgs.type = 'audio';\n    }\n    if (changeMediaArgs.type) {\n      if (changeMediaArgs.type === 'soundcloud') {\n        changeMediaArgs.type = 'audio';\n      }\n      if (changeMediaArgs.type === 'album_part') {\n        changeMediaArgs.type = 'audio';\n      }\n      selfClass.cthis.attr('data-type', changeMediaArgs.type);\n      selfClass.audioType = changeMediaArgs.type;\n      o.type = changeMediaArgs.type;\n    }\n\n\n    if (o.design_skin === 'skin-wave') {\n      if (o.skinwave_wave_mode === 'canvas') {\n        if (selfClass._sourcePlayer) {\n          selfClass.data_source = $sourceForChange.attr('data-source');\n        } else {\n          if (typeof $sourceForChange === 'string') {\n\n            selfClass.data_source = $sourceForChange;\n          }\n        }\n\n        if ($sourceForChange && changeMediaArgs.pcm) {\n\n          if (selfClass.initOptions.scrubbar_type === 'wave') {\n\n            selfClass.cthis.attr('data-pcm', $sourceForChange.attr('data-pcm'));\n            assignPcmData(selfClass);\n            scrubModeWave__view_transitionIn(selfClass, $sourceForChange.attr('data-pcm'));\n          }\n        } else {\n\n          player_reinit_findIfPcmNeedsGenerating(selfClass);\n\n          scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, {});\n        }\n\n      }\n\n\n      // -- inside skin-wave\n      if (changeMediaArgs.thumb) {\n\n        if (selfClass.cthis.find('.the-thumb').length) {\n\n          selfClass.cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n        } else {\n          selfClass.cthis.attr('data-thumb', changeMediaArgs.thumb);\n          selfClass.setupStructure_thumbnailCon();\n        }\n\n      }\n    }\n\n\n    if (changeMediaArgs.thumb) {\n\n      if (selfClass.cthis.find('.the-thumb').length) {\n\n        selfClass.cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n      } else {\n        selfClass.cthis.attr('data-thumb', changeMediaArgs.thumb);\n        selfClass.setupStructure_thumbnailCon()\n      }\n\n      selfClass.cthis.removeClass('does-not-have-thumb');\n      selfClass.cthis.addClass('has-thumb');\n    } else {\n      selfClass.cthis.addClass('does-not-have-thumb');\n      selfClass.cthis.removeClass('has-thumb');\n    }\n\n\n    if (changeMediaArgs.pcm === '') {\n      selfClass.setup_pcm_random_for_now();\n    }\n\n\n    player_adjustIdentifiers(selfClass);\n\n\n    handle_resize_delay = 100;\n\n\n    if (!isSourceAStringSource && $sourceForChange) {\n\n\n      // -- .feed-dzsap-for-extra-html-right will be appended to the footer player\n\n      var selector = '';\n      var $feedExtraHtmlRightFromSource = null;\n      if ($sourceForChange.find('.feed-dzsap-for-extra-html-right').length) {\n        $feedExtraHtmlRightFromSource = $sourceForChange.find('.feed-dzsap-for-extra-html-right').eq(0);\n      } else {\n        // -- we use this for Shop Builder\n        if (selfClass._sourcePlayer) {\n\n          if (selfClass._sourcePlayer.attr('data-playerid') && $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').length) {\n            $feedExtraHtmlRightFromSource = $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').eq(0);\n          }\n        }\n      }\n\n      if ($feedExtraHtmlRightFromSource) {\n        selfClass.classMetaParts.set_extraHtmlFloatRight($feedExtraHtmlRightFromSource.html());\n\n      }\n    }\n\n    if (changeMediaArgs.artist) {\n      selfClass.cthis.find('.the-artist').html(changeMediaArgs.artist);\n    }\n    if (changeMediaArgs.song_name) {\n      selfClass.cthis.find('.the-name').html(changeMediaArgs.song_name);\n    }\n\n\n    if (changeMediaArgsDefaults.source_player_do_not_update === 'on') {\n      selfClass.set_sourcePlayer(null);\n    }\n\n\n    if (original_type === 'soundcloud' && changeMediaArgs.source.indexOf('api.soundcloud') === -1) {\n      selfClass.data_source = changeMediaArgs.source;\n\n      selfClass.isPlayPromised = true;\n      setTimeout(function () {\n        selfClass.isPlayPromised = true;\n      }, 501);\n      retrieve_soundcloud_url(selfClass);\n\n    } else {\n\n      // -- setup media for all sources\n      // -- make sure source is not fake\n      selfClass.setup_media({\n        'called_from': 'change_media'\n      });\n    }\n\n\n    selfClass.timeModel.getSampleTimesFromDom(selfClass._sourcePlayer);\n\n\n    if (selfClass.audioType === 'fake') {\n      return false;\n    }\n\n    if (selfClass.initOptions.action_audio_change_media) {\n      selfClass.initOptions.action_audio_change_media(changeMediaArgs.source, changeMediaArgs);\n    }\n\n\n    if (changeMediaArgs.autoplay === 'on') {\n      selfClass.play_media_visual();\n\n      if (!isSourceAZoomSoundsAudioplayer) {\n\n        setTimeout(function () {\n          selfClass.play_media({\n            'called_from': 'changeMediaArgs.autoplay'\n          });\n        }, 100);\n      }\n    }\n    selfClass.reinit();\n\n    if (o.skinwave_enableSpectrum === 'on') {\n      selfClass.spectrum_analyser = null;\n    }\n    setTimeout(function () {\n\n      selfClass.handleResize(null, {\n        called_from: 'change_media'\n      });\n    }, handle_resize_delay)\n  }\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {jQuery} $\n */\nwindow.dzsap_part_mediaChange_init = function(selfClass,$){\n\n  selfClass.cthis.get(0).api_change_media = media_changeMedia(selfClass, $); // -- change the media file from the API\n}\n\nwindow.dzsap_part_mediaChange_loaded = true;\nwindow.media_changeMedia = media_changeMedia;\n","export const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1': 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2': 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3': 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR': 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP: 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT: 20000,\n  URL_JQUERY: 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n\nexport const DZSAP_PLAYER_CLASS_FOOTER_PLAYER = 'dzsap_footer';\nexport const DZSAP_PLAYER_CLASS_LOADED = 'dzsap-loaded';\nexport const DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW = 'audioplayer-loaded';\nexport const DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom';\nexport const DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom-placeholder';\nexport const DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED = 'fake';\nexport const DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS = 'last';\n\nexport const DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS = '#dzsap-main-settings';\nexport const DZSAP_SCRIPT_SELECTOR_KEYBOARD = '#dzsap-keyboard-controls';\nexport const DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT = 500;\n","\n\n\nexport const playbtn_svg = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nexport const pausebtn_svg = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>';\n\n\n\n\n\nexport const svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\n\n\nexport const svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nexport const svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\n\n\n\n\n\nexport const svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nexport const svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\n\n\n","\n\nexport function scrubbar_modeWave_clearObsoleteCanvas(selfClass) {\n  if (selfClass._scrubbar) {\n    selfClass._scrubbar.find('.scrubbar-type-wave--canvas.transitioning-out').remove();\n  }\n}\n\n\nexport function scrubbar_modeWave_setupCanvas_context(_canvas) {\n  if(_canvas.get(0)){\n\n    const _canvasContext = _canvas.get(0).getContext(\"2d\");\n\n    _canvasContext.imageSmoothingEnabled = false;\n    _canvasContext.imageSmoothing = false;\n    _canvasContext.imageSmoothingQuality = \"high\";\n    _canvasContext.webkitImageSmoothing = false;\n  }\n}\n\nexport function scrubbar_modeWave_setupCanvas(pargs, selfClass) {\n\n  var margs = {\n    prepare_for_transition_in: false\n  }\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n  var struct_scrubBg_str = '';\n  var struct_scrubProg_str = '';\n  var aux_selector = '';\n  var o = selfClass.initOptions;\n\n\n  struct_scrubBg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-bg-img';\n  struct_scrubBg_str += '\" ></canvas>';\n\n  struct_scrubProg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-prog-img';\n  struct_scrubProg_str += '\" ></canvas>';\n\n\n  selfClass._scrubbar.find('.scrub-bg').eq(0).append(struct_scrubBg_str);\n  selfClass._scrubbar.find('.scrub-prog').eq(0).append(struct_scrubProg_str);\n\n\n  selfClass._scrubbarbg_canvas = selfClass._scrubbar.find('.scrub-bg-img').last();\n  selfClass._scrubbarprog_canvas = selfClass._scrubbar.find('.scrub-prog-img').last();\n\n  if (o.skinwave_enableSpectrum === 'on') {\n    selfClass._scrubbarprog_canvas.hide();\n  }\n\n\n  scrubbar_modeWave_setupCanvas_context(selfClass._scrubbarbg_canvas);\n  scrubbar_modeWave_setupCanvas_context(selfClass._scrubbarprog_canvas);\n\n\n  if (margs.prepare_for_transition_in) {\n    selfClass._scrubbarbg_canvas.addClass('preparing-transitioning-in');\n    selfClass._scrubbarprog_canvas.addClass('preparing-transitioning-in');\n    setTimeout(function () {\n      selfClass._scrubbarbg_canvas.addClass('transitioning-in');\n      selfClass._scrubbarprog_canvas.addClass('transitioning-in');\n    }, 20);\n  }\n}\n\n\nexport function view_player_scrubModeWaveAdjustCurrTimeAndTotalTime(selfClass){\n\n  const cthis = selfClass.cthis;\n\n  if (selfClass.scrubbarProgX < 0) {\n    selfClass.scrubbarProgX = 0;\n  }\n  selfClass.scrubbarProgX = parseInt(selfClass.scrubbarProgX, 10);\n\n\n  if (selfClass.scrubbarProgX < 2 && cthis.data('promise-to-play-footer-player-from')) {\n    return false;\n  }\n\n  // -- move currTime\n  selfClass.$currTime.css({\n    'left': selfClass.scrubbarProgX\n  });\n\n  if (selfClass.scrubbarProgX > selfClass.scrubbarWidth - selfClass.currTime_outerWidth) {\n    selfClass.$currTime.css({\n      'left': selfClass.scrubbarWidth - selfClass.currTime_outerWidth\n    })\n  }\n  if (selfClass.scrubbarProgX > selfClass.scrubbarWidth - 30 && selfClass.scrubbarWidth) {\n    selfClass.$totalTime.css({\n      'opacity': 1 - (((selfClass.scrubbarProgX - (selfClass.scrubbarWidth - 30)) / 30))\n    });\n  } else {\n    if (selfClass.$totalTime.css('opacity') !== '1') {\n      selfClass.$totalTime.css({\n        'opacity': ''\n      });\n    }\n  }\n}\n"]}